<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>扩展 Istio | 云原生资料库</title>
    <link>https://lib.jimmysong.io/istio-handbook/extensibility/</link>
      <atom:link href="https://lib.jimmysong.io/istio-handbook/extensibility/index.xml" rel="self" type="application/rss+xml" />
    <description>扩展 Istio</description>
    <generator>Wowchemy (https://wowchemy.com)</generator><language>zh</language><lastBuildDate>Tue, 12 Jul 2022 00:00:00 +0800</lastBuildDate>
    <image>
      <url>https://lib.jimmysong.io/media/sharing.png</url>
      <title>扩展 Istio</title>
      <link>https://lib.jimmysong.io/istio-handbook/extensibility/</link>
    </image>
    
    <item>
      <title>Istio 的扩展性概述</title>
      <link>https://lib.jimmysong.io/istio-handbook/extensibility/overview/</link>
      <pubDate>Tue, 12 Jul 2022 15:18:00 +0800</pubDate>
      <guid>https://lib.jimmysong.io/istio-handbook/extensibility/overview/</guid>
      <description>&lt;p&gt;Istio 利用 WebAssembly 技术实现扩展，使用 Proxy-Wasm 沙盒 API 替换了 Istio 老版本中的 Mixer。&lt;/p&gt;
&lt;h2 id=&#34;webassembly-沙盒的目标&#34;&gt;WebAssembly 沙盒的目标：&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;效率&lt;/strong&gt;：降低扩展增加的延迟以及对 CPU 和内存的开销；&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;功能&lt;/strong&gt;：扩展可以执行策略，收集遥测数据，并执行有效载荷的变异；&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;隔离&lt;/strong&gt;：插件的编程错误或崩溃不会影响其他插件；&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;配置&lt;/strong&gt;：使用与其他 Istio AP I一致的 API 对插件进行配置，可以动态地配置扩展；&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;运&lt;/strong&gt;维：可以使用金丝雀部署，或者使用 log-only、fail-open 或 fail-close 模式部署扩展；&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;开发者&lt;/strong&gt;：可以用多种编程语言编写扩展；&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;架构&#34;&gt;架构&lt;/h2&gt;
&lt;p&gt;Istio 扩展（Proxy-Wasm 插件）由以下组成部分：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;过滤器服务提供商接口（Filter Service Provider Interface，简称 SPI）&lt;/strong&gt; ：用于为过滤器构建 Proxy-Wasm 插件；&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;沙盒&lt;/strong&gt;：嵌入在 Envoy 中的 V8 Wasm 运行时；&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;主机 API&lt;/strong&gt;：用于处理请求头、尾和元数据；&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;呼出 API&lt;/strong&gt;：针对 gRPC 和 HTTP 请求；&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;统计和记录 API&lt;/strong&gt;：用于度量统计和监控；&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;下图展示的是 Istio 的扩展性架构。&lt;/p&gt;
&lt;p&gt;















&lt;figure  id=&#34;figure-istio-扩展性架构示意图&#34;&gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img src=&#34;../../images/istio-extension.svg&#34; alt=&#34;Istio 扩展性架构示意图&#34; loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;figcaption&gt;
      Istio 扩展性架构示意图
    &lt;/figcaption&gt;&lt;/figure&gt;
&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>
