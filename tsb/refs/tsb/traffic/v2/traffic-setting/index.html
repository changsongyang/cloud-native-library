<!DOCTYPE html><html lang="zh" >


<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  
  
  
    <meta name="generator" content="Wowchemy 5.5.0 for Hugo" />
  

  
  










  







  
  
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  

  
  
  
    
      
      <link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap">
      <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap" media="print" onload="this.media='all'">
    
  

  
    <meta name="google-site-verification" content="google69a5cccb61297807" />
    <meta name="baidu-site-verification" content="cqmZHEleVh" />
  
  
  
  
    
    
    
  
  

  <meta name="author" content="宋净超" />

  
  
  
    
  
  <meta name="description" content="Traffic Settings allow configuring the behavior of the proxy workloads in a set of namespaces owned by a traffic group. Specifically, it allows configuring the dependencies of proxy workloads on namespaces outside the traffic group as well as reliability settings for outbound calls made by the proxy workloads to other services.
The following example creates a traffic group for the proxy workloads in ns1, ns2 and ns3 namespaces owned by its parent workspace w1 under tenant mycompany. It then defines a traffic setting for the all workloads in these namespaces, adding a dependency on all the services in the shared db namespace, and forwarding all unknown traffic via the egress gateway in the istio-system namespace." />

  
  <link rel="alternate" hreflang="zh" href="https://lib.jimmysong.io/tsb/refs/tsb/traffic/v2/traffic-setting/" />

  
  
  
    <meta name="theme-color" content="#0a55a7" />
  

  
  

  

  <link rel="stylesheet" href="/css/vendor-bundle.min.c7b8d9abd591ba2253ea42747e3ac3f5.css" media="print" onload="this.media='all'">

  
  
  
    
    

    
    
    
    
      
      
    
    
    

    
    
    
      
    
    
      
      
        
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.1/styles/github.min.css" crossorigin="anonymous" title="hl-light" media="print" onload="this.media='all'">
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.1/styles/dracula.min.css" crossorigin="anonymous" title="hl-dark" media="print" onload="this.media='all'" disabled>
        
      
    

    
    
    

    

    
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      
        
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
  

  
  
  
  
  
  <link rel="stylesheet" href="/css/wowchemy.2c25b2854625561177dfe556e1065970.css" />

  




<script async src="https://www.googletagmanager.com/gtag/js?id=G-MP490FS739"></script>

<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', "G-MP490FS739");
</script>


  


  


  


  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?2a4b7f65b1839466beaa48d633aa60c1";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>



  
  
  

  

  
    <link rel="manifest" href="/manifest.webmanifest" />
  

  <link rel="icon" type="image/png" href="/media/icon_hud79519197c2c386463324871b321d647_6772_32x32_fill_lanczos_center_3.png" />
  <link rel="apple-touch-icon" type="image/png" href="/media/icon_hud79519197c2c386463324871b321d647_6772_180x180_fill_lanczos_center_3.png" />

  <link rel="canonical" href="https://lib.jimmysong.io/tsb/refs/tsb/traffic/v2/traffic-setting/" />

  
  
  
  
  
  
  
  
    
  
  

  
  
    
    
  
  <meta property="twitter:card" content="summary_large_image" />
  
    <meta property="twitter:site" content="@jimmysongio" />
    <meta property="twitter:creator" content="@jimmysongio" />
  
  <meta property="og:site_name" content="云原生资料库" />
  <meta property="og:url" content="https://lib.jimmysong.io/tsb/refs/tsb/traffic/v2/traffic-setting/" />
  <meta property="og:title" content="Traffic Setting | 云原生资料库" />
  <meta property="og:description" content="Traffic Settings allow configuring the behavior of the proxy workloads in a set of namespaces owned by a traffic group. Specifically, it allows configuring the dependencies of proxy workloads on namespaces outside the traffic group as well as reliability settings for outbound calls made by the proxy workloads to other services.
The following example creates a traffic group for the proxy workloads in ns1, ns2 and ns3 namespaces owned by its parent workspace w1 under tenant mycompany. It then defines a traffic setting for the all workloads in these namespaces, adding a dependency on all the services in the shared db namespace, and forwarding all unknown traffic via the egress gateway in the istio-system namespace." /><meta property="og:image" content="https://lib.jimmysong.io/media/sharing.png" />
    <meta property="twitter:image" content="https://lib.jimmysong.io/media/sharing.png" /><meta property="og:locale" content="zh" />
  
    
      <meta
        property="article:published_time"
        content="2023-08-09T12:00:00&#43;08:00"
      />
    
    <meta property="article:modified_time" content="2024-03-06T15:17:26&#43;08:00">
  

  



  

  

  





  <title>Traffic Setting | 云原生资料库</title>
</head>


<body id="top" data-spy="scroll" data-offset="70" data-target="#TableOfContents" class="page-wrapper   " >
  <button onclick="topFunction()" id="backTopBtn" title="Go to top"><i class="fa-solid fa-circle-up" aria-hidden="true"></i></button>
  
  
  
  
  
  
  
  
  
  <script src="/js/wowchemy-init.min.62d6f8dfe8493f1c68557dde65bec362.js"></script>

  


<aside class="search-modal" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6 search-title">
          <p>搜索</p>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#" aria-label="关闭"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        
        <input name="q" id="search-query" placeholder="搜索..." autocapitalize="off"
        autocomplete="off" autocorrect="off" spellcheck="false" type="search" class="form-control"
        aria-label="搜索...">
        
      </div>

      
      

      
    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>

      <div id="search-common-queries">
        
      </div>

    </section>
  </div>
</aside>



  <div class="page-header">
    











  


<header class="header--fixed">
  <nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id="navbar-main">
    <div class="container-xl">

      
      <div class="d-none d-lg-inline-flex">
        <a class="navbar-brand" href="/"><img src="/media/logo.svg" alt="云原生资料库"
            
            ></a>
      </div>
      

      
      <button type="button" class="navbar-toggler" data-toggle="collapse"
              data-target="#navbar-content" aria-controls="navbar-content" aria-expanded="false" aria-label="切换导航">
      <span><i class="fas fa-bars"></i></span>
      </button>
      

      
      <div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none">
        <a class="navbar-brand" href="/"><img src="/media/logo.svg" alt="云原生资料库"
          
          ></a>
      </div>
      

      
      
      <div class="navbar-collapse main-menu-item collapse justify-content-start" id="navbar-content">

        
        <ul class="navbar-nav d-md-inline-flex">
          

          

          
          
          
            
          

          

          
          
          
          

          
            
              
              
            
            
              
              
              
                
              
              
            
          

          <li class="nav-item">
            <a class="nav-link " href="/#books"><span>图书</span></a>
          </li>

          
          

          
          <li class="nav-item dropdown">
            <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" aria-haspopup="true"><span>教程</span><span class="caret"></span>
            </a>
            <div class="dropdown-menu">
              
                <a class="dropdown-item" href="/kubernetes-handbook"><span>Kubernetes 基础教程</span></a>
              
                <a class="dropdown-item" href="https://academy.tetrate.io/courses/istio-fundamentals-zh"><span>Istio 基础教程</span></a>
              
                <a class="dropdown-item" href="https://academy.tetrate.io/courses/envoy-fundamentals-zh"><span>Envoy 基础教程</span></a>
              
            </div>
          </li>

          
          

          

          
          
          
            
              
            
          

          

          
          
          
          

          
            
              
              
            
            
          

          <li class="nav-item">
            <a class="nav-link " href="https://jimmysong.io/blog/" target="_blank" rel="noopener"><span>博客</span></a>
          </li>

          
          

          

          
          
          
            
              
            
          

          

          
          
          
          

          
            
              
              
            
            
          

          <li class="nav-item">
            <a class="nav-link " href="https://cloudnative.to/" target="_blank" rel="noopener"><span>社区</span></a>
          </li>

          
          

          

          
          
          
            
          

          

          
          
          
          

          
            
              
              
            
            
              
              
              
                
              
              
            
          

          <li class="nav-item">
            <a class="nav-link " href="/#tags"><span>标签</span></a>
          </li>

          
          

          

          
          
          
            
          

          

          
          
          
          

          
            
              
              
            
            
              
              
              
                
              
              
            
          

          <li class="nav-item">
            <a class="nav-link " href="/#about"><span>关于</span></a>
          </li>

          
          

        

          
        </ul>
      </div>

      <ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2">

        
        
          
            
            <li class="nav-item d-none d-lg-inline-flex">
              <a class="nav-link" href="https://jimmysong.io/contact/" data-toggle="tooltip" data-placement="bottom" title="联系" target="_blank" rel="noopener" aria-label="联系">
                <i class="fab fa-weixin" aria-hidden="true"></i>
              </a>
            </li>
          
            
            <li class="nav-item d-none d-lg-inline-flex">
              <a class="nav-link" href="https://twitter.com/jimmysongio" data-toggle="tooltip" data-placement="bottom" title="关注" target="_blank" rel="noopener" aria-label="关注">
                <i class="fab fa-twitter" aria-hidden="true"></i>
              </a>
            </li>
          
        

        
        <li class="nav-item">
            <a class="nav-link" href="https://jimmysong.io" target="_blank" rel="noopener" data-toggle="tooltip" data-placement="bottom" title="首页" aria-label="首页"><i class="fas fa-home" aria-hidden="true"></i></a>
        </li>
        

        
        
        <li class="nav-item">
            <a class="nav-link js-search" href="#" data-toggle="tooltip" data-placement="bottom" title="搜索" aria-label="搜索"><i class="fas fa-search" aria-hidden="true"></i></a>
        </li>
        

        
        

        
        
        
        <li class="nav-item">
          <a href="#" class="nav-link set-theme">
            <i class="fa fa-sun" aria-hidden="true" id="theme-icon"></i>
          </a>
        </li>
        

        
        

      </ul>

    </div>
  </nav>
</header>


  </div>

  <div class="page-body">
    
    
    

    




<div class="container-xl docs">
  <div class="row flex-xl-nowrap">
    <div class="docs-sidebar">
      <form class="docs-search d-flex align-items-center">
  <button class="btn docs-toggle d-md-none p-0 mr-md-3 w-100" type="button" data-toggle="collapse" data-target="#docs-nav" aria-controls="docs-nav" aria-expanded="false" aria-label="Toggle section navigation">
    <div class="d-flex">
      <span class="d-md-none pl-1 flex-grow-1 text-left overflow-hidden">
        
          tsb
        
      </span>
      <span><i class="fas fa-chevron-down"></i></span>
    </div>
  </button>

  
  <button class="form-control sidebar-search js-search d-none d-md-flex">
    <i class="fas fa-search pr-2"></i>
    <span class="sidebar-search-text">搜索...</span>
    <span class="sidebar-search-shortcut">/</span>
  </button>
  
</form>

<nav class="collapse docs-links" id="docs-nav">
  
  
  
  
  
  

  
  
    

    
      

      
  
</nav>

    </div>

    
    
    <div class="d-none d-xl-block col-xl-2 docs-toc">
      
     
      <ul class="nav toc-top">
        <li><a href="#" id="back_to_top" class="docs-toc-title">目录</a></li>
      </ul>
     

      <nav id="TableOfContents">
  <ul>
    <li><a href="#tetrateio-api-tsb-traffic-v2-httpretry">HTTPRetry</a></li>
    <li><a href="#tetrateio-api-tsb-traffic-v2-keepalivesettings">KeepAliveSettings</a>
      <ul>
        <li><a href="#tetrateio-api-tsb-traffic-v2-keepalivesettings-tcpkeepalivesettings">TcpKeepAliveSettings</a></li>
      </ul>
    </li>
    <li><a href="#tetrateio-api-tsb-traffic-v2-reachabilitysettings">ReachabilitySettings</a></li>
    <li><a href="#tetrateio-api-tsb-traffic-v2-resiliencesettings">ResilienceSettings</a></li>
    <li><a href="#tetrateio-api-tsb-traffic-v2-trafficsetting">TrafficSetting</a>
      <ul>
        <li><a href="#tetrateio-api-tsb-traffic-v2-trafficsetting-egressgateway">EgressGateway</a></li>
        <li><a href="#tetrateio-api-tsb-traffic-v2-reachabilitysettings-mode">Mode</a></li>
        <li><a href="#tetrateio-api-tsb-traffic-v2-resiliencesettings-sensitivity">Sensitivity</a></li>
      </ul>
    </li>
  </ul>
</nav>

      

    </div>
    

    <main class="py-md-3 pl-md-3 docs-content col-xl-8" role="main">

      <article class="article">

          
            
  <nav class="d-none d-md-flex" aria-label="breadcrumb">
    <ol class="breadcrumb">
      
  
    
  
    
  
    
  
    
  

    <li class="breadcrumb-item">
      <a href="/">
        
          首页
        
      </a>
    </li>
  

    <li class="breadcrumb-item">
      <a href="/tsb/">
        
          TSB 手册
        
      </a>
    </li>
  

    <li class="breadcrumb-item">
      <a href="/tsb/refs/">
        
          API
        
      </a>
    </li>
  

    <li class="breadcrumb-item">
      <a href="/tsb/refs/tsb/">
        
          tsb
        
      </a>
    </li>
  

      <li class="breadcrumb-item active" aria-current="page">
        Traffic Setting
      </li>
    </ol>
  </nav>




          

          <h1>Traffic Setting</h1>

          <div class="article-style">
            <!-- WARNING: This page is generated. Please take a look at extensions/plugin-service-bridge-api-docs/src/files/doc/page.ejs -->
<p>Traffic Settings allow configuring the behavior of the proxy workloads in
a set of namespaces owned by a traffic group. Specifically, it
allows configuring the dependencies of proxy workloads on namespaces
outside the traffic group as well as reliability settings for
outbound calls made by the proxy workloads to other services.</p>
<p>The following example creates a traffic group for the proxy workloads in
<code>ns1</code>, <code>ns2</code> and <code>ns3</code> namespaces owned by its parent workspace
<code>w1</code> under tenant <code>mycompany</code>. It then defines a traffic setting
for the all workloads in these namespaces, adding a dependency on
all the services in the shared <code>db</code> namespace, and forwarding all
unknown traffic via the egress gateway in the <code>istio-system</code>
namespace.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l">traffic.tsb.tetrate.io/v2</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l">Group</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">metadata</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">t1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">workspace</span><span class="p">:</span><span class="w"> </span><span class="l">w1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">tenant</span><span class="p">:</span><span class="w"> </span><span class="l">mycompany</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">organization</span><span class="p">:</span><span class="w"> </span><span class="l">myorg</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">spec</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">namespaceSelector</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">names</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="s2">&#34;*/ns1&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="s2">&#34;*/ns2&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="s2">&#34;*/ns3&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">configMode</span><span class="p">:</span><span class="w"> </span><span class="l">BRIDGED</span><span class="w">
</span></span></span></code></pre></div><p>And the associated traffic settings for the proxy workloads:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l">traffic.tsb.tetrate.io/v2</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l">TrafficSetting</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">metadata</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">defaults</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">group</span><span class="p">:</span><span class="w"> </span><span class="l">t1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">workspace</span><span class="p">:</span><span class="w"> </span><span class="l">w1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">tenant</span><span class="p">:</span><span class="w"> </span><span class="l">mycompany</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">organization</span><span class="p">:</span><span class="w"> </span><span class="l">myorg</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">spec</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">reachability</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">mode</span><span class="p">:</span><span class="w"> </span><span class="l">CUSTOM</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">hosts</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="s2">&#34;ns1/*&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="s2">&#34;ns2/*&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="s2">&#34;ns3/*&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="s2">&#34;db/*&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">resilience</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">circuitBreakerSensitivity</span><span class="p">:</span><span class="w"> </span><span class="l">MEDIUM</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">egress</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">host</span><span class="p">:</span><span class="w"> </span><span class="l">istio-system/istio-egressgateway</span><span class="w">
</span></span></span></code></pre></div><p>The following traffic setting confines the reachability of proxy workloads
in the traffic group <code>t1</code> to other namespaces inside the group. The
resilience and egress gateway settings will be inherited from the
workspace wide traffic setting.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l">traffic.tsb.tetrate.io/v2</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l">TrafficSetting</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">metadata</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">defaults</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">group</span><span class="p">:</span><span class="w"> </span><span class="l">t1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">workspace</span><span class="p">:</span><span class="w"> </span><span class="l">w1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">tenant</span><span class="p">:</span><span class="w"> </span><span class="l">mycompany</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">organization</span><span class="p">:</span><span class="w"> </span><span class="l">myorg</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">spec</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">reachability</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">mode</span><span class="p">:</span><span class="w"> </span><span class="l">GROUP</span><span class="w">
</span></span></span></code></pre></div><h2 id="tetrateio-api-tsb-traffic-v2-httpretry">HTTPRetry</h2>
<p>HTTPRetry defines the parameters for retrying API calls to a service.</p>
<div class="generated-table"></div>
<table>
<thead>
<tr>
<th>Field</th>
<th class="description">Description</th>
<th>Validation Rule</th>
</tr>
</thead>
<tr>
<td>
<p>attempts</p>
</td>
<td>
<p><a href="https://developers.google.com/protocol-buffers/docs/proto3#scalar" target="_blank" rel="noopener">int32</a> <br/> <em>REQUIRED</em> <br/> Number of retries for a given request. The interval between retries will be determined
automatically (25ms+).</p>
<p>Actual number of retries attempted depends on the httpReqTimeout.</p>
</td>
<td>
<p>int32 = {<br/>  gte: <code>1</code><br/>}<br/></p>
</td>
</tr>
<tr>
<td>
<p>perTryTimeout</p>
</td>
<td>
<p><a href="https://developers.google.com/protocol-buffers/docs/reference/google.protobuf#google.protobuf.Duration" target="_blank" rel="noopener">google.protobuf.Duration</a> <br/> Timeout per retry attempt for a given request. format: 1h/1m/1s/1ms. MUST BE &gt;=1ms.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
<tr>
<td>
<p>retryOn</p>
</td>
<td>
<p><a href="https://developers.google.com/protocol-buffers/docs/proto3#scalar" target="_blank" rel="noopener">string</a> <br/> Specifies the conditions under which retry takes place.
One or more policies can be specified using a ‘,’ delimited list.
See the <a href="https://www.envoyproxy.io/docs/envoy/latest/configuration/http/http_filters/router_filter#x-envoy-retry-on" target="_blank" rel="noopener">retry policies</a>
and <a href="https://www.envoyproxy.io/docs/envoy/latest/configuration/http/http_filters/router_filter#x-envoy-retry-grpc-on" target="_blank" rel="noopener">gRPC retry policies</a>
for more details.</p>
</td>
<td>
<p>string = {<br/>  pattern: <code>^$|^(5xx|gateway-error|reset|connect-failure|envoy-ratelimited|retriable-4xx|refused-stream|retriable-status-codes|retriable-headers|cancelled|deadline-exceeded|internal|resource-exhausted|unavailable)(,(5xx|gateway-error|reset|connect-failure|envoy-ratelimited|retriable-4xx|refused-stream|retriable-status-codes|retriable-headers|cancelled|deadline-exceeded|internal|resource-exhausted|unavailable))*$</code><br/>}<br/></p>
</td>
</tr>
</table>
<h2 id="tetrateio-api-tsb-traffic-v2-keepalivesettings">KeepAliveSettings</h2>
<p>Keep Alive Settings.</p>
<div class="generated-table"></div>
<table>
<thead>
<tr>
<th>Field</th>
<th class="description">Description</th>
<th>Validation Rule</th>
</tr>
</thead>
<tr>
<td>
<p>tcp</p>
</td>
<td>
<p><a href="../../../tsb/traffic/v2/traffic_setting#tetrateio-api-tsb-traffic-v2-keepalivesettings-tcpkeepalivesettings">tetrateio.api.tsb.traffic.v2.KeepAliveSettings.TcpKeepAliveSettings</a> <br/> TCP Keep Alive settings associated with the upstream and downstream TCP connections.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
</table>
<h3 id="tetrateio-api-tsb-traffic-v2-keepalivesettings-tcpkeepalivesettings">TcpKeepAliveSettings</h3>
<p>TCP Keep Alive Settings.</p>
<div class="generated-table"></div>
<table>
<thead>
<tr>
<th>Field</th>
<th class="description">Description</th>
<th>Validation Rule</th>
</tr>
</thead>
<tr>
<td>
<p>downstream</p>
</td>
<td>
<p><a href="../../../tsb/traffic/v2/traffic_setting#tetrateio-api-tsb-traffic-v2-keepalivesettings-tcpkeepalivesettings-tcpkeepalive">tetrateio.api.tsb.traffic.v2.KeepAliveSettings.TcpKeepAliveSettings.TcpKeepAlive</a> <br/> TCP Keep Alive Settings associated with the downstream (client) connection.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
<tr>
<td>
<p>upstream</p>
</td>
<td>
<p><a href="../../../tsb/traffic/v2/traffic_setting#tetrateio-api-tsb-traffic-v2-keepalivesettings-tcpkeepalivesettings-tcpkeepalive">tetrateio.api.tsb.traffic.v2.KeepAliveSettings.TcpKeepAliveSettings.TcpKeepAlive</a> <br/> TCP Keep Alive Settings associated with the upstream (backend) connection.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
</table>
<h4 id="tetrateio-api-tsb-traffic-v2-keepalivesettings-tcpkeepalivesettings-tcpkeepalive">TcpKeepAlive</h4>
<div class="generated-table"></div>
<table>
<thead>
<tr>
<th>Field</th>
<th class="description">Description</th>
<th>Validation Rule</th>
</tr>
</thead>
<tr>
<td>
<p>probes</p>
</td>
<td>
<p><a href="https://developers.google.com/protocol-buffers/docs/reference/google.protobuf#google.protobuf.UInt32Value" target="_blank" rel="noopener">google.protobuf.UInt32Value</a> <br/> The total number of unacknowledged probes to send before deciding
the connection is dead. Default is to use the OS level configuration,
Linux defaults to 9.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
<tr>
<td>
<p>idleTime</p>
</td>
<td>
<p><a href="https://developers.google.com/protocol-buffers/docs/reference/google.protobuf#google.protobuf.UInt32Value" target="_blank" rel="noopener">google.protobuf.UInt32Value</a> <br/> The number of seconds a connection needs to be idle before keep-alive probes
start being sent. Default is to use the OS level configuration,
Linux defaults to 7200s.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
<tr>
<td>
<p>interval</p>
</td>
<td>
<p><a href="https://developers.google.com/protocol-buffers/docs/reference/google.protobuf#google.protobuf.UInt32Value" target="_blank" rel="noopener">google.protobuf.UInt32Value</a> <br/> The number of seconds between keep-alive probes. Default is to use the OS
level configuration, Linux defaults to 75s.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
</table>
<h2 id="tetrateio-api-tsb-traffic-v2-reachabilitysettings">ReachabilitySettings</h2>
<p><code>ReachabilitySettings</code> define the set of services and hosts
accessed by a workload (and hence its sidecar) in the
mesh. Defining the set of services accessed by a workload (i.e. its
dependencies) in advance reduces the memory and CPU consumption
both the Istio control plane and the individual Envoy proxy workloads in
the data plane.</p>
<div class="generated-table"></div>
<table>
<thead>
<tr>
<th>Field</th>
<th class="description">Description</th>
<th>Validation Rule</th>
</tr>
</thead>
<tr>
<td>
<p>mode</p>
</td>
<td>
<p><a href="../../../tsb/traffic/v2/traffic_setting#tetrateio-api-tsb-traffic-v2-reachabilitysettings-mode">tetrateio.api.tsb.traffic.v2.ReachabilitySettings.Mode</a> <br/> A short cut for specifying the set of services accessed by the workload.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
<tr>
<td>
<p>hosts</p>
</td>
<td>
<p>List of <a href="https://developers.google.com/protocol-buffers/docs/proto3#scalar" target="_blank" rel="noopener">string</a> <br/> When the mode is <code>CUSTOM</code>, <code>hosts</code> specify the set of services
that the sidecar should be able to reach. Must be in the
<code>&lt;namespace&gt;/&lt;fqdn&gt;</code> format.</p>
<ul>
<li>
<p><code>./*</code> indicates all services in the namespace where the sidecar resides.</p>
</li>
<li>
<p><code>ns1/*</code> indicates all services in the <code>ns1</code> namespace.</p>
</li>
<li>
<p><code>ns1/svc1.com</code> indicates <code>svc1.com</code> service in <code>ns1</code> namespace.</p>
</li>
<li>
<p><code>*/svc1.com</code> indicates <code>svc1.com</code> service in any namespace.</p>
</li>
</ul>
</td>
<td>
<p>–</p>
</td>
</tr>
</table>
<h2 id="tetrateio-api-tsb-traffic-v2-resiliencesettings">ResilienceSettings</h2>
<p>ResilienceSettings control the reliability knobs in Envoy when making
outbound connections from a gateway or proxy workload.</p>
<div class="generated-table"></div>
<table>
<thead>
<tr>
<th>Field</th>
<th class="description">Description</th>
<th>Validation Rule</th>
</tr>
</thead>
<tr>
<td>
<p>httpRequestTimeout</p>
</td>
<td>
<p><a href="https://developers.google.com/protocol-buffers/docs/reference/google.protobuf#google.protobuf.Duration" target="_blank" rel="noopener">google.protobuf.Duration</a> <br/> Timeout for HTTP requests. Disabled if not set.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
<tr>
<td>
<p>httpRetries</p>
</td>
<td>
<p><a href="../../../tsb/traffic/v2/traffic_setting#tetrateio-api-tsb-traffic-v2-httpretry">tetrateio.api.tsb.traffic.v2.HTTPRetry</a> <br/> Retry policy for HTTP requests. Disabled if not set.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
<tr>
<td>
<p>tcpKeepalive</p>
</td>
<td>
<p><a href="https://developers.google.com/protocol-buffers/docs/reference/google.protobuf#google.protobuf.BoolValue" target="_blank" rel="noopener">google.protobuf.BoolValue</a> <br/> Deprecated. This field will be removed in upcoming releases.
Please use the <code>keep_alive</code> field instead.
If enabled, sets SO_KEEPALIVE on the socket to enable TCP keepalive.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
<tr>
<td>
<p>keepAlive</p>
</td>
<td>
<p><a href="../../../tsb/traffic/v2/traffic_setting#tetrateio-api-tsb-traffic-v2-keepalivesettings">tetrateio.api.tsb.traffic.v2.KeepAliveSettings</a> <br/> Keep Alive Settings.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
<tr>
<td>
<p>circuitBreakerSensitivity</p>
</td>
<td>
<p><a href="../../../tsb/traffic/v2/traffic_setting#tetrateio-api-tsb-traffic-v2-resiliencesettings-sensitivity">tetrateio.api.tsb.traffic.v2.ResilienceSettings.Sensitivity</a> <br/> Circuit breakers in Envoy are applied per endpoint in a load
balancing pool. By default, circuit breakers are disabled. If
set, the sensitivity level determines the maximum number of
consecutive failures that Envoy will tolerate before ejecting an
endpoint from the load balancing pool.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
</table>
<h2 id="tetrateio-api-tsb-traffic-v2-trafficsetting">TrafficSetting</h2>
<p>A traffic setting applies configuration to a set of proxy workloads in a
traffic group or a workspace. When applied to a traffic group,
missing fields will inherit values from the workspace-wide setting if any.</p>
<div class="generated-table"></div>
<table>
<thead>
<tr>
<th>Field</th>
<th class="description">Description</th>
<th>Validation Rule</th>
</tr>
</thead>
<tr>
<td>
<p>reachability</p>
</td>
<td>
<p><a href="../../../tsb/traffic/v2/traffic_setting#tetrateio-api-tsb-traffic-v2-reachabilitysettings">tetrateio.api.tsb.traffic.v2.ReachabilitySettings</a> <br/> The set of services and hosts accessed by a workload (and hence
its sidecar) in the mesh. Defining the set of services accessed
by a workload (i.e. its dependencies) in advance reduces the
memory and CPU consumption both the Istio control plane and the
individual Envoy proxy workloads in the data plane.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
<tr>
<td>
<p>resilience</p>
</td>
<td>
<p><a href="../../../tsb/traffic/v2/traffic_setting#tetrateio-api-tsb-traffic-v2-resiliencesettings">tetrateio.api.tsb.traffic.v2.ResilienceSettings</a> <br/> Resilience settings such as timeouts, retries, etc., affecting
outbound traffic from proxy workloads.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
<tr>
<td>
<p>egress</p>
</td>
<td>
<p><a href="../../../tsb/traffic/v2/traffic_setting#tetrateio-api-tsb-traffic-v2-trafficsetting-egressgateway">tetrateio.api.tsb.traffic.v2.TrafficSetting.EgressGateway</a> <br/> Specifies the details of the egress proxy to which unknown
traffic should be forwarded to from the proxy workload. If not
specified, the proxy workload will send the unknown traffic directly to
the IP requested by the application.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
<tr>
<td>
<p>rateLimiting</p>
</td>
<td>
<p><a href="../../../tsb/gateway/v2/gateway_common#tetrateio-api-tsb-gateway-v2-ratelimiting">tetrateio.api.tsb.gateway.v2.RateLimiting</a> <br/> Configuration for rate limiting requests.
These settings are only applied to sidecar proxies in the traffic group.
Use the rateLimiting field in the Tier1Gateway and the Ingressgateway API
to configure ratelimiting at the ingressgateway proxies.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
<tr>
<td>
<p>configGenerationMetadata</p>
</td>
<td>
<p><a href="../../../tsb/types/v2/types#tetrateio-api-tsb-types-v2-configgenerationmetadata">tetrateio.api.tsb.types.v2.ConfigGenerationMetadata</a> <br/> Metadata values that will be add into the Istio generated configurations.
When using YAML APIs like<code>tctl</code> or <code>gitops</code>, put them into the <code>metadata.labels</code> or
<code>metadata.annotations</code> instead.
This field is only necessary when using gRPC APIs directly.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
</table>
<h3 id="tetrateio-api-tsb-traffic-v2-trafficsetting-egressgateway">EgressGateway</h3>
<p>EgressGateway specifies the gateway where traffic external to the mesh will be redirected.</p>
<div class="generated-table"></div>
<table>
<thead>
<tr>
<th>Field</th>
<th class="description">Description</th>
<th>Validation Rule</th>
</tr>
</thead>
<tr>
<td>
<p>host</p>
</td>
<td>
<p><a href="https://developers.google.com/protocol-buffers/docs/proto3#scalar" target="_blank" rel="noopener">string</a> <br/> <em>REQUIRED</em> <br/> Specifies the egress gateway hostname. Must be in
<code>&lt;namespace&gt;/&lt;fqdn&gt;</code> format.</p>
</td>
<td>
<p>string = {<br/>  pattern: <code>^[^/]+/[^/]+$</code><br/>}<br/></p>
</td>
</tr>
<tr>
<td>
<p>port</p>
</td>
<td>
<p><a href="https://developers.google.com/protocol-buffers/docs/proto3#scalar" target="_blank" rel="noopener">int32</a> <br/> Deprecated. This field is ignored and will be removed in upcoming releases.
Specifies the port on the host to connect to.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
</table>
<h3 id="tetrateio-api-tsb-traffic-v2-reachabilitysettings-mode">Mode</h3>
<p>A short cut for defining the common reachability patterns</p>
<div class="generated-table"></div>
<table>
<thead>
<tr>
<th>Field</th>
<th>Number</th>
<th class="description">Description</th>
</tr>
</thead>
<tr>
<td>
<p>UNSET</p>
</td>
<td>
<p>0</p>
</td>
<td>
<p>Inherit from parent if possible. Otherwise treated as <code>CLUSTER</code>.</p>
</td>
</tr>
<tr>
<td>
<p>NAMESPACE</p>
</td>
<td>
<p>1</p>
</td>
<td>
<p>The workload may talk to any service in its own namespace.</p>
</td>
</tr>
<tr>
<td>
<p>GROUP</p>
</td>
<td>
<p>2</p>
</td>
<td>
<p>The workload may talk to any service in the traffic group.</p>
</td>
</tr>
<tr>
<td>
<p>WORKSPACE</p>
</td>
<td>
<p>3</p>
</td>
<td>
<p>The workload may talk to any service in the workspace.</p>
</td>
</tr>
<tr>
<td>
<p>CLUSTER</p>
</td>
<td>
<p>4</p>
</td>
<td>
<p>The workload may talk to any service in the cluster.</p>
</td>
</tr>
<tr>
<td>
<p>CUSTOM</p>
</td>
<td>
<p>5</p>
</td>
<td>
<p>The workload may talk to services defined explicitly.</p>
</td>
</tr>
</table>
<h3 id="tetrateio-api-tsb-traffic-v2-resiliencesettings-sensitivity">Sensitivity</h3>
<p>Available sensitivity levels for the circuit breaker.</p>
<div class="generated-table"></div>
<table>
<thead>
<tr>
<th>Field</th>
<th>Number</th>
<th class="description">Description</th>
</tr>
</thead>
<tr>
<td>
<p>UNSET</p>
</td>
<td>
<p>0</p>
</td>
<td>
<p>Default values will be used.</p>
</td>
</tr>
<tr>
<td>
<p>LOW</p>
</td>
<td>
<p>1</p>
</td>
<td>
<p>Tolerate up to 20 consecutive 5xx or connection failures from an
endpoint before ejecting it temporarily from the load balancing
pool.</p>
</td>
</tr>
<tr>
<td>
<p>MEDIUM</p>
</td>
<td>
<p>2</p>
</td>
<td>
<p>Tolerate up to 10 consecutive 5xx or connection failures from an
endpoint before ejecting it temporarily from the load balancing
pool.</p>
</td>
</tr>
<tr>
<td>
<p>HIGH</p>
</td>
<td>
<p>3</p>
</td>
<td>
<p>Tolerate up to 5 consecutive 5xx or connection failures from an
endpoint before ejecting it temporarily from the load balancing
pool.</p>
</td>
</tr>
</table>

          </div>

          

<div class="article-tags">
  
  <a class="badge badge-light" href="/tag/tsb/">TSB</a>
  
</div>



          
          
          <div class="article-widget">
            
<div class="container-xl row post-nav">
  
  
  
  <a class="col-6 post-nav-item btn btn-lg mb-md-1" href="/tsb/refs/tsb/traffic/v2/traffic-service/" rel="next">
    <div class="meta-nav">上一页</div>
    <p>Traffic Service</p></a>
  
  
  
  <a class="col-6 post-nav-item btn btn-lg mb-md-1"  href="/tsb/refs/tsb/security/v2/waf-settings/" rel="prev">
    <div class="meta-nav">下一页</div>
    <p>WAF Settings</p></a>
  
</div>

          </div>
          

        <div class="body-footer">
          <p>最近更新于 2024-03-06</p>

          





  

<p class="edit-page">
  <a href="https://github.com/rootsongjc/cloud-native-library//edit/master/content/tsb/refs/tsb/traffic/v2/traffic-setting.md">
    <i class="fas fa-pen pr-2"></i>编辑本页
  </a>
</p>



          




          


        </div>

      </article>

      <footer class="site-footer">

  



  

  
  <div class="copyright py-4 bg-footer">
      <div class="row justify-content-center">
        <div class="text-center footer-color">
          <p class="mb-0">© 2017-2024 jimmysong.io all rights reserved</p>
        </div>
    </div>
  </div>

</footer>


    </main>
  </div>
</div>

  </div>

  <div class="page-footer">
    
    
  </div>

  


<script src="/js/vendor-bundle.min.5b2c48a98fb93f10e8d01cff2874cdf3.js"></script>




  

  
  

  

  
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.1/highlight.min.js" integrity="sha512-Ypjm0o7jOxAd4hpdoppSEN0TQOC19UtPAqD+4s5AlXmUvbmmS/YMxYqAqarQYyxTnB6/rqip9qcxlNB/3U9Wdg==" crossorigin="anonymous"></script>
    
    
  










  
  <script id="search-hit-fuse-template" type="text/x-template">
    <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <div class="article-metadata search-hit-type">{{relpermalink}}</div>
          <a href="{{relpermalink}}">{{title}}</a>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
    </div>
  </script>
  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.2.1/fuse.min.js" integrity="sha512-o38bmzBGX+hD3JHWUFCDA09btWaqrNmoJ3RXLlrysA7PP01Kgs4UlE4MhelE1v5dJR3+cxlR4qQlotsW7jKsnw==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha512-mhbv5DqBMgrWL+32MmsDOt/OAvqr/cHimk6B8y/bx/xS88MVkYGPiVv2ixKVrkywF2qHplNRUvFsAHUdxZ3Krg==" crossorigin="anonymous"></script>
  












  
  
  
  
  
  
  







<script id="page-data" type="application/json">{"use_headroom":false}</script>










  
  


<script src="/zh/js/wowchemy.min.a04788cdfce708339d31c0685377d64e.js"></script>







  
<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">引用</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <pre><code class="tex hljs"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-outline-primary my-1 js-copy-cite" href="#" target="_blank">
          <i class="fas fa-copy"></i> 复制
        </a>
        <a class="btn btn-outline-primary my-1 js-download-cite" href="#" target="_blank">
          <i class="fas fa-download"></i> 下载
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

  <script src="/js/wowchemy-publication.af9327db0521d4a01354bfc8b77a4324.js" type="module"></script>
<script>

var mybutton = document.getElementById("backTopBtn");


window.onscroll = function() {scrollFunction()};

function scrollFunction() {
  if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
    mybutton.style.display = "block";
  } else {
    mybutton.style.display = "none";
  }
}


function topFunction() {
  document.body.scrollTop = 0;
  document.documentElement.scrollTop = 0;
}
</script>






<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.2.2/anchor.min.js" integrity="sha512-I7w3ZdSFzw5j3jU3ZkNikBNeIrl3i+hEuEdwNmqUJvwNcaBUNcijnP2gd9DtGlgVYDplfjGoD8vTNsID+lCjqg==" crossorigin="anonymous"></script>
<script>
  anchors.add();
</script>



<script>



(function() {
  'use strict';

  if(!document.queryCommandSupported('copy')) {
    return;
  }

  function flashCopyMessage(el, msg) {
    el.className = "highlight-copy-btn";
    el.textContent = msg;
    setTimeout(function() {
      el.textContent = "";
      el.className = "highlight-copy-btn fa fa-copy";
    }, 1000);
  }

  function selectText(node) {
    var selection = window.getSelection();
    var range = document.createRange();
    range.selectNodeContents(node);
    selection.removeAllRanges();
    selection.addRange(range);
    return selection;
  }

  function addCopyButton(containerEl) {
    var copyBtn = document.createElement("button");
    copyBtn.className = "highlight-copy-btn fa fa-copy";
    copyBtn.textContent = "";

    var codeEl = containerEl.firstElementChild;
    copyBtn.addEventListener('click', function() {
      try {
        var selection = selectText(codeEl);
        document.execCommand('copy');
        selection.removeAllRanges();
        
        flashCopyMessage(copyBtn, '已复制')
        
      } catch(e) {
        console && console.log(e);
        flashCopyMessage(copyBtn, 'Failed :\'(')
      }
    });

    containerEl.appendChild(copyBtn);
  }

  
  var highlightBlocks = document.getElementsByClassName('highlight');
  Array.prototype.forEach.call(highlightBlocks, addCopyButton);
})();
</script>



<script>

function Collapse(e){
  var node = document.getElementById(e);
  if (node.className.indexOf('fa-angle-down') > -1){
    node.setAttribute("class", "fa-solid fa-angle-right");
    }else{
    node.setAttribute("class", "fa-solid fa-angle-down");
    }
}
</script>


</body>
</html>
