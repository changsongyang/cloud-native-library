<!DOCTYPE html><html lang="zh" >


<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  
  
  
    <meta name="generator" content="Wowchemy 5.5.0 for Hugo" />
  

  
  










  







  
  
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  

  
  
  
    
      
      <link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap">
      <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap" media="print" onload="this.media='all'">
    
  

  
    <meta name="google-site-verification" content="google69a5cccb61297807" />
    <meta name="baidu-site-verification" content="cqmZHEleVh" />
  
  
  
  
    
    
    
  
  

  <meta name="author" content="宋净超" />

  
  
  
    
  
  <meta name="description" content="API objects define a set of servers and endpoints that expose the business logic for an Application. APIs are attached to existing Applications to configure how the features exposed by the different services that are part of the Application can be accessed.
The format used to define APIs is based on the OpenAPI v3 spec. Users can attach OpenAPI documents to the applications, and Service Bridge will generate all the configuration that is needed to make the APIs available. Service Bridge also provides a set of custom extensions to the OpenAPI spec that can be used to further customize the APIs in those cases where the standard OpenAPI properties are not sufficient." />

  
  <link rel="alternate" hreflang="zh" href="https://lib.jimmysong.io/tsb/refs/tsb/application/v2/api/" />

  
  
  
    <meta name="theme-color" content="#0a55a7" />
  

  
  

  

  <link rel="stylesheet" href="/css/vendor-bundle.min.c7b8d9abd591ba2253ea42747e3ac3f5.css" media="print" onload="this.media='all'">

  
  
  
    
    

    
    
    
    
      
      
    
    
    

    
    
    
      
    
    
      
      
        
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.1/styles/github.min.css" crossorigin="anonymous" title="hl-light" media="print" onload="this.media='all'">
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.1/styles/dracula.min.css" crossorigin="anonymous" title="hl-dark" media="print" onload="this.media='all'" disabled>
        
      
    

    
    
    

    

    
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      
        
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
  

  
  
  
  
  
  <link rel="stylesheet" href="/css/wowchemy.2c25b2854625561177dfe556e1065970.css" />

  




<script async src="https://www.googletagmanager.com/gtag/js?id=G-MP490FS739"></script>

<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', "G-MP490FS739");
</script>


  


  


  


  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?2a4b7f65b1839466beaa48d633aa60c1";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>



  
  
  

  

  
    <link rel="manifest" href="/manifest.webmanifest" />
  

  <link rel="icon" type="image/png" href="/media/icon_hud79519197c2c386463324871b321d647_6772_32x32_fill_lanczos_center_3.png" />
  <link rel="apple-touch-icon" type="image/png" href="/media/icon_hud79519197c2c386463324871b321d647_6772_180x180_fill_lanczos_center_3.png" />

  <link rel="canonical" href="https://lib.jimmysong.io/tsb/refs/tsb/application/v2/api/" />

  
  
  
  
  
  
  
  
    
  
  

  
  
    
    
  
  <meta property="twitter:card" content="summary_large_image" />
  
    <meta property="twitter:site" content="@jimmysongio" />
    <meta property="twitter:creator" content="@jimmysongio" />
  
  <meta property="og:site_name" content="云原生资料库" />
  <meta property="og:url" content="https://lib.jimmysong.io/tsb/refs/tsb/application/v2/api/" />
  <meta property="og:title" content="API | 云原生资料库" />
  <meta property="og:description" content="API objects define a set of servers and endpoints that expose the business logic for an Application. APIs are attached to existing Applications to configure how the features exposed by the different services that are part of the Application can be accessed.
The format used to define APIs is based on the OpenAPI v3 spec. Users can attach OpenAPI documents to the applications, and Service Bridge will generate all the configuration that is needed to make the APIs available. Service Bridge also provides a set of custom extensions to the OpenAPI spec that can be used to further customize the APIs in those cases where the standard OpenAPI properties are not sufficient." /><meta property="og:image" content="https://lib.jimmysong.io/media/sharing.png" />
    <meta property="twitter:image" content="https://lib.jimmysong.io/media/sharing.png" /><meta property="og:locale" content="zh" />
  
    
      <meta
        property="article:published_time"
        content="2023-08-09T12:00:00&#43;08:00"
      />
    
    <meta property="article:modified_time" content="2024-03-06T15:17:26&#43;08:00">
  

  



  

  

  





  <title>API | 云原生资料库</title>
</head>


<body id="top" data-spy="scroll" data-offset="70" data-target="#TableOfContents" class="page-wrapper   " >
  <button onclick="topFunction()" id="backTopBtn" title="Go to top"><i class="fa-solid fa-circle-up" aria-hidden="true"></i></button>
  
  
  
  
  
  
  
  
  
  <script src="/js/wowchemy-init.min.62d6f8dfe8493f1c68557dde65bec362.js"></script>

  


<aside class="search-modal" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6 search-title">
          <p>搜索</p>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#" aria-label="关闭"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        
        <input name="q" id="search-query" placeholder="搜索..." autocapitalize="off"
        autocomplete="off" autocorrect="off" spellcheck="false" type="search" class="form-control"
        aria-label="搜索...">
        
      </div>

      
      

      
    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>

      <div id="search-common-queries">
        
      </div>

    </section>
  </div>
</aside>



  <div class="page-header">
    











  


<header class="header--fixed">
  <nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id="navbar-main">
    <div class="container-xl">

      
      <div class="d-none d-lg-inline-flex">
        <a class="navbar-brand" href="/"><img src="/media/logo.svg" alt="云原生资料库"
            
            ></a>
      </div>
      

      
      <button type="button" class="navbar-toggler" data-toggle="collapse"
              data-target="#navbar-content" aria-controls="navbar-content" aria-expanded="false" aria-label="切换导航">
      <span><i class="fas fa-bars"></i></span>
      </button>
      

      
      <div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none">
        <a class="navbar-brand" href="/"><img src="/media/logo.svg" alt="云原生资料库"
          
          ></a>
      </div>
      

      
      
      <div class="navbar-collapse main-menu-item collapse justify-content-start" id="navbar-content">

        
        <ul class="navbar-nav d-md-inline-flex">
          

          

          
          
          
            
          

          

          
          
          
          

          
            
              
              
            
            
              
              
              
                
              
              
            
          

          <li class="nav-item">
            <a class="nav-link " href="/#books"><span>图书</span></a>
          </li>

          
          

          
          <li class="nav-item dropdown">
            <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" aria-haspopup="true"><span>教程</span><span class="caret"></span>
            </a>
            <div class="dropdown-menu">
              
                <a class="dropdown-item" href="/kubernetes-handbook"><span>Kubernetes 基础教程</span></a>
              
                <a class="dropdown-item" href="https://academy.tetrate.io/courses/istio-fundamentals-zh"><span>Istio 基础教程</span></a>
              
                <a class="dropdown-item" href="https://academy.tetrate.io/courses/envoy-fundamentals-zh"><span>Envoy 基础教程</span></a>
              
            </div>
          </li>

          
          

          

          
          
          
            
              
            
          

          

          
          
          
          

          
            
              
              
            
            
          

          <li class="nav-item">
            <a class="nav-link " href="https://jimmysong.io/blog/" target="_blank" rel="noopener"><span>博客</span></a>
          </li>

          
          

          

          
          
          
            
              
            
          

          

          
          
          
          

          
            
              
              
            
            
          

          <li class="nav-item">
            <a class="nav-link " href="https://cloudnative.to/" target="_blank" rel="noopener"><span>社区</span></a>
          </li>

          
          

          

          
          
          
            
          

          

          
          
          
          

          
            
              
              
            
            
              
              
              
                
              
              
            
          

          <li class="nav-item">
            <a class="nav-link " href="/#tags"><span>标签</span></a>
          </li>

          
          

          

          
          
          
            
          

          

          
          
          
          

          
            
              
              
            
            
              
              
              
                
              
              
            
          

          <li class="nav-item">
            <a class="nav-link " href="/#about"><span>关于</span></a>
          </li>

          
          

        

          
        </ul>
      </div>

      <ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2">

        
        
          
            
            <li class="nav-item d-none d-lg-inline-flex">
              <a class="nav-link" href="https://jimmysong.io/contact/" data-toggle="tooltip" data-placement="bottom" title="联系" target="_blank" rel="noopener" aria-label="联系">
                <i class="fab fa-weixin" aria-hidden="true"></i>
              </a>
            </li>
          
            
            <li class="nav-item d-none d-lg-inline-flex">
              <a class="nav-link" href="https://twitter.com/jimmysongio" data-toggle="tooltip" data-placement="bottom" title="关注" target="_blank" rel="noopener" aria-label="关注">
                <i class="fab fa-twitter" aria-hidden="true"></i>
              </a>
            </li>
          
        

        
        <li class="nav-item">
            <a class="nav-link" href="https://jimmysong.io" target="_blank" rel="noopener" data-toggle="tooltip" data-placement="bottom" title="首页" aria-label="首页"><i class="fas fa-home" aria-hidden="true"></i></a>
        </li>
        

        
        
        <li class="nav-item">
            <a class="nav-link js-search" href="#" data-toggle="tooltip" data-placement="bottom" title="搜索" aria-label="搜索"><i class="fas fa-search" aria-hidden="true"></i></a>
        </li>
        

        
        

        
        
        
        <li class="nav-item">
          <a href="#" class="nav-link set-theme">
            <i class="fa fa-sun" aria-hidden="true" id="theme-icon"></i>
          </a>
        </li>
        

        
        

      </ul>

    </div>
  </nav>
</header>


  </div>

  <div class="page-body">
    
    
    

    




<div class="container-xl docs">
  <div class="row flex-xl-nowrap">
    <div class="docs-sidebar">
      <form class="docs-search d-flex align-items-center">
  <button class="btn docs-toggle d-md-none p-0 mr-md-3 w-100" type="button" data-toggle="collapse" data-target="#docs-nav" aria-controls="docs-nav" aria-expanded="false" aria-label="Toggle section navigation">
    <div class="d-flex">
      <span class="d-md-none pl-1 flex-grow-1 text-left overflow-hidden">
        
          tsb
        
      </span>
      <span><i class="fas fa-chevron-down"></i></span>
    </div>
  </button>

  
  <button class="form-control sidebar-search js-search d-none d-md-flex">
    <i class="fas fa-search pr-2"></i>
    <span class="sidebar-search-text">搜索...</span>
    <span class="sidebar-search-shortcut">/</span>
  </button>
  
</form>

<nav class="collapse docs-links" id="docs-nav">
  
  
  
  
  
  

  
  
    

    
      

      
  
</nav>

    </div>

    
    
    <div class="d-none d-xl-block col-xl-2 docs-toc">
      
     
      <ul class="nav toc-top">
        <li><a href="#" id="back_to_top" class="docs-toc-title">目录</a></li>
      </ul>
     

      <nav id="TableOfContents">
  <ul>
    <li><a href="#tetrateio-api-tsb-application-v2-api">API</a></li>
    <li><a href="#tetrateio-api-tsb-application-v2-exposedby">ExposedBy</a></li>
    <li><a href="#tetrateio-api-tsb-application-v2-exposedbycluster">ExposedByCluster</a></li>
    <li><a href="#tetrateio-api-tsb-application-v2-exposedbyclusters">ExposedByClusters</a></li>
    <li><a href="#tetrateio-api-tsb-application-v2-httpendpoint">HTTPEndpoint</a></li>
    <li><a href="#tetrateio-api-tsb-application-v2-configresource">ConfigResource</a></li>
    <li><a href="#tetrateio-api-tsb-application-v2-resourcestatus">ResourceStatus</a>
      <ul>
        <li><a href="#tetrateio-api-tsb-application-v2-resourcestatus-configresourcestatus">ConfigResourceStatus</a></li>
      </ul>
    </li>
    <li><a href="#tetrateio-api-tsb-application-v2-status">Status</a></li>
  </ul>
</nav>

      

    </div>
    

    <main class="py-md-3 pl-md-3 docs-content col-xl-8" role="main">

      <article class="article">

          
            
  <nav class="d-none d-md-flex" aria-label="breadcrumb">
    <ol class="breadcrumb">
      
  
    
  
    
  
    
  
    
  

    <li class="breadcrumb-item">
      <a href="/">
        
          首页
        
      </a>
    </li>
  

    <li class="breadcrumb-item">
      <a href="/tsb/">
        
          TSB 手册
        
      </a>
    </li>
  

    <li class="breadcrumb-item">
      <a href="/tsb/refs/">
        
          API
        
      </a>
    </li>
  

    <li class="breadcrumb-item">
      <a href="/tsb/refs/tsb/">
        
          tsb
        
      </a>
    </li>
  

      <li class="breadcrumb-item active" aria-current="page">
        API
      </li>
    </ol>
  </nav>




          

          <h1>API</h1>

          <div class="article-style">
            <!-- WARNING: This page is generated. Please take a look at extensions/plugin-service-bridge-api-docs/src/files/doc/page.ejs -->
<p>API objects define a set of servers and endpoints that expose the business logic
for an Application. APIs are attached to existing Applications to configure how the
features exposed by the different services that are part of the Application can be accessed.</p>
<p>The format used to define APIs is based on the OpenAPI v3 spec. Users can attach OpenAPI
documents to the applications, and Service Bridge will generate all the configuration
that is needed to make the APIs available. Service Bridge also provides a set of custom
extensions to the OpenAPI spec that can be used to further customize the APIs in those
cases where the standard OpenAPI properties are not sufficient.</p>
<p>The following example shows how an API can be attached to an existing application:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">apiversion</span><span class="p">:</span><span class="w"> </span><span class="l">application.tsb.tetrate.io/v2</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l">API</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">metadata</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">organization</span><span class="p">:</span><span class="w"> </span><span class="l">my-org</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">tenant</span><span class="p">:</span><span class="w"> </span><span class="l">tetrate</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">application</span><span class="p">:</span><span class="w"> </span><span class="l">example-app</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">ezample-app-api</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">spec</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">An example OpenAPI based API</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">workloadSelector</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l">exampleapp</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">labels</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">app</span><span class="p">:</span><span class="w"> </span><span class="l">exampleapp-gateway</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">openapi</span><span class="p">:</span><span class="w"> </span><span class="p">|</span><span class="sd">
</span></span></span><span class="line"><span class="cl"><span class="sd">    openapi: 3.0.0
</span></span></span><span class="line"><span class="cl"><span class="sd">    info:
</span></span></span><span class="line"><span class="cl"><span class="sd">      title: Sample API
</span></span></span><span class="line"><span class="cl"><span class="sd">      description: An example API defined in an OpenAPI spec
</span></span></span><span class="line"><span class="cl"><span class="sd">      version: 0.1.9
</span></span></span><span class="line"><span class="cl"><span class="sd">      x-tsb-service: sample-app.sample-ns   # service exposing this api
</span></span></span><span class="line"><span class="cl"><span class="sd">    servers:
</span></span></span><span class="line"><span class="cl"><span class="sd">    - url: http://api.example.com/v1
</span></span></span><span class="line"><span class="cl"><span class="sd">      description: Optional server description, e.g. Main (production) server
</span></span></span><span class="line"><span class="cl"><span class="sd">    - url: http://staging-api.example.com
</span></span></span><span class="line"><span class="cl"><span class="sd">    paths:
</span></span></span><span class="line"><span class="cl"><span class="sd">      /users:
</span></span></span><span class="line"><span class="cl"><span class="sd">        get:
</span></span></span><span class="line"><span class="cl"><span class="sd">          summary: Returns a list of users.
</span></span></span><span class="line"><span class="cl"><span class="sd">          description: Optional extended description in CommonMark or HTML.
</span></span></span><span class="line"><span class="cl"><span class="sd">          responses:
</span></span></span><span class="line"><span class="cl"><span class="sd">            &#39;200&#39;:    # status code
</span></span></span><span class="line"><span class="cl"><span class="sd">              description: A JSON array of user names
</span></span></span><span class="line"><span class="cl"><span class="sd">              content:
</span></span></span><span class="line"><span class="cl"><span class="sd">                application/json:
</span></span></span><span class="line"><span class="cl"><span class="sd">                  schema: 
</span></span></span><span class="line"><span class="cl"><span class="sd">                    type: array
</span></span></span><span class="line"><span class="cl"><span class="sd">                    items: 
</span></span></span><span class="line"><span class="cl"><span class="sd">                      type: string</span><span class="w">    
</span></span></span></code></pre></div><h2 id="tetrateio-api-tsb-application-v2-api">API</h2>
<p>An API configuring a set of servers and endpoints that expose the Application business logic.</p>
<div class="generated-table"></div>
<table>
<thead>
<tr>
<th>Field</th>
<th class="description">Description</th>
<th>Validation Rule</th>
</tr>
</thead>
<tr>
<td>
<p>openapi</p>
</td>
<td>
<p><a href="https://developers.google.com/protocol-buffers/docs/proto3#scalar" target="_blank" rel="noopener">string</a> <br/> <em>REQUIRED</em> <br/> The raw OpenAPI spec for this API.</p>
</td>
<td>
<p>string = {<br/>  min_len: <code>1</code><br/>}<br/></p>
</td>
</tr>
<tr>
<td>
<p>workloadSelector</p>
</td>
<td>
<p><a href="../../../tsb/types/v2/types#tetrateio-api-tsb-types-v2-workloadselector">tetrateio.api.tsb.types.v2.WorkloadSelector</a> <br/> Optional selector to specify the gateway workloads (pod labels and Kubernetes
namespace) under the application gateway group that should be configured with
this gateway. There can be only one gateway for a workload selector in a namespace.
If the selector is omitted, then the following default workload selector will be applied,
based on the name of the Application and the API objects.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">workloadSelector</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l">exampleapp</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">labels</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">app</span><span class="p">:</span><span class="w"> </span><span class="l">application-name</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">api</span><span class="p">:</span><span class="w"> </span><span class="l">api-name</span><span class="w">
</span></span></span></code></pre></div></td>
<td>
<p>–</p>
</td>
</tr>
<tr>
<td>
<p>servers</p>
</td>
<td>
<p>List of <a href="../../../tsb/gateway/v2/ingress_gateway#tetrateio-api-tsb-gateway-v2-httpserver">tetrateio.api.tsb.gateway.v2.HttpServer</a> <br/> <em>OUTPUT_ONLY</em> <br/> DEPRECATED: For new created APIs, the exposed servers will be available at httpServers.
For APIs created before version 1.7, will still be available in this field.</p>
<p>List of ingress gateways servers that expose the API.
Server hostnames must be unique in the system, and only one API can expose a specific hostname.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
<tr>
<td>
<p>endpoints</p>
</td>
<td>
<p>List of <a href="../../../tsb/application/v2/api#tetrateio-api-tsb-application-v2-httpendpoint">tetrateio.api.tsb.application.v2.HTTPEndpoint</a> <br/> <em>OUTPUT_ONLY</em> <br/> List of endpoints exposed by this API.
This field is read-only and generated from the configured OpenAPI spec.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
<tr>
<td>
<p>httpServers</p>
</td>
<td>
<p>List of <a href="../../../tsb/gateway/v2/gateway#tetrateio-api-tsb-gateway-v2-http">tetrateio.api.tsb.gateway.v2.HTTP</a> <br/> <em>OUTPUT_ONLY</em> <br/> List of gateways servers that expose the API.
Server hostnames must be unique in the system, and only one API can expose a specific hostname.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
</table>
<h2 id="tetrateio-api-tsb-application-v2-exposedby">ExposedBy</h2>
<p>The exposer of an HTTPEndpoint.</p>
<div class="generated-table"></div>
<table>
<thead>
<tr>
<th>Field</th>
<th class="description">Description</th>
<th>Validation Rule</th>
</tr>
</thead>
<tr>
<td>
<p>service</p>
</td>
<td>
<p><a href="https://developers.google.com/protocol-buffers/docs/proto3#scalar" target="_blank" rel="noopener">string</a> <em><sup><a href="https://developers.google.com/protocol-buffers/docs/proto3#oneof" target="_blank">oneof</a> exposer</sup></em> <br/> <em>OUTPUT_ONLY</em> <br/> The FQN of the service in the service registry that is exposing a concrete endpoint.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
<tr>
<td>
<p>clusterGroup</p>
</td>
<td>
<p><a href="../../../tsb/application/v2/api#tetrateio-api-tsb-application-v2-exposedbyclusters">tetrateio.api.tsb.application.v2.ExposedByClusters</a> <em><sup><a href="https://developers.google.com/protocol-buffers/docs/proto3#oneof" target="_blank">oneof</a> exposer</sup></em> <br/> <em>OUTPUT_ONLY</em> <br/> The clusters that are exposing a concrete endpoint.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
</table>
<h2 id="tetrateio-api-tsb-application-v2-exposedbycluster">ExposedByCluster</h2>
<p>ExposedByCluster is a cluster or set of clusters identified by the labels that are
exposing an endpoint.</p>
<div class="generated-table"></div>
<table>
<thead>
<tr>
<th>Field</th>
<th class="description">Description</th>
<th>Validation Rule</th>
</tr>
</thead>
<tr>
<td>
<p>name</p>
</td>
<td>
<p><a href="https://developers.google.com/protocol-buffers/docs/proto3#scalar" target="_blank" rel="noopener">string</a> <br/> The name of the cluster exposing the endpoint. Only one of name or labels
must be specified.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
<tr>
<td>
<p>labels</p>
</td>
<td>
<p>map&lt;<a href="https://developers.google.com/protocol-buffers/docs/proto3#scalar" target="_blank" rel="noopener">string</a>, <a href="https://developers.google.com/protocol-buffers/docs/proto3#scalar" target="_blank" rel="noopener">string</a>&gt; <br/> Labels associated with the cluster. Any cluster with matching
labels will be selected as an exposer. Only one of name or labels
must be specified.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
<tr>
<td>
<p>weight</p>
</td>
<td>
<p><a href="https://developers.google.com/protocol-buffers/docs/proto3#scalar" target="_blank" rel="noopener">uint32</a> <br/> The weight for traffic to a cluster exposing the endpoint.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
</table>
<h2 id="tetrateio-api-tsb-application-v2-exposedbyclusters">ExposedByClusters</h2>
<p>ExposedByClusters represents the clusters that are exposing a concrete endpoint.</p>
<div class="generated-table"></div>
<table>
<thead>
<tr>
<th>Field</th>
<th class="description">Description</th>
<th>Validation Rule</th>
</tr>
</thead>
<tr>
<td>
<p>clusters</p>
</td>
<td>
<p>List of <a href="../../../tsb/application/v2/api#tetrateio-api-tsb-application-v2-exposedbycluster">tetrateio.api.tsb.application.v2.ExposedByCluster</a> <br/> The clusters that contain gateways exposing the HTTPEndpoint.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
</table>
<h2 id="tetrateio-api-tsb-application-v2-httpendpoint">HTTPEndpoint</h2>
<p>An HTTP Endpoint represents an individual HTTP path exposed in the API.</p>
<div class="generated-table"></div>
<table>
<thead>
<tr>
<th>Field</th>
<th class="description">Description</th>
<th>Validation Rule</th>
</tr>
</thead>
<tr>
<td>
<p>path</p>
</td>
<td>
<p><a href="https://developers.google.com/protocol-buffers/docs/proto3#scalar" target="_blank" rel="noopener">string</a> <br/> <em>OUTPUT_ONLY</em> <br/> The HTTP path of the endpoint, relative to the hostnames exposed by the API.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
<tr>
<td>
<p>methods</p>
</td>
<td>
<p>List of <a href="https://developers.google.com/protocol-buffers/docs/proto3#scalar" target="_blank" rel="noopener">string</a> <br/> <em>OUTPUT_ONLY</em> <br/> The list of HTTP methods this endpoint supports.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
<tr>
<td>
<p>hostnames</p>
</td>
<td>
<p>List of <a href="https://developers.google.com/protocol-buffers/docs/proto3#scalar" target="_blank" rel="noopener">string</a> <br/> <em>OUTPUT_ONLY</em> <br/> The list of hostnames where this endpoint is exposed.
If omitted, the endpoint is assumed to be exposed in all hostnames defined for the API.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
<tr>
<td>
<p>service</p>
</td>
<td>
<p><a href="https://developers.google.com/protocol-buffers/docs/proto3#scalar" target="_blank" rel="noopener">string</a> <br/> <em>OUTPUT_ONLY</em> <br/> DEPRECATED: For new created APIs, the exposed servers will be available at httpServers.
For APIs created before version 1.7, will still be available in this field.
The FQN of the service in the service registry that is exposing this endpoint.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
<tr>
<td>
<p>exposedBy</p>
</td>
<td>
<p><a href="../../../tsb/application/v2/api#tetrateio-api-tsb-application-v2-exposedby">tetrateio.api.tsb.application.v2.ExposedBy</a> <br/> <em>OUTPUT_ONLY</em> <br/> The exposer of this endpoint.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
</table>
<h2 id="tetrateio-api-tsb-application-v2-configresource">ConfigResource</h2>
<p>ConfigResource represents a configuration object (group, ingress gateway, etc)
that is related to an Application or API.</p>
<div class="generated-table"></div>
<table>
<thead>
<tr>
<th>Field</th>
<th class="description">Description</th>
<th>Validation Rule</th>
</tr>
</thead>
<tr>
<td>
<p>fqn</p>
</td>
<td>
<p><a href="https://developers.google.com/protocol-buffers/docs/proto3#scalar" target="_blank" rel="noopener">string</a> <br/> <em>OUTPUT_ONLY</em> <br/> The FQN of the resource this status is computed for.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
<tr>
<td>
<p>expectedEtag</p>
</td>
<td>
<p><a href="https://developers.google.com/protocol-buffers/docs/proto3#scalar" target="_blank" rel="noopener">string</a> <br/> <em>OUTPUT_ONLY</em> <br/> The expected etag field is used to check the if the configuration resource contents have
changed. This might not be relevant for all configuration resources, so this field may
not be set. If it is not set, the status will only report the presence or absence of the
configuration resource, but not differences in its contents.</p>
<p>When this field is present, the status will also reflect changes in the contents of the
configuration resource, and report it as DIRTY if there are differences.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
<tr>
<td>
<p>exclusivelyOwned</p>
</td>
<td>
<p><a href="https://developers.google.com/protocol-buffers/docs/proto3#scalar" target="_blank" rel="noopener">bool</a> <br/> <em>OUTPUT_ONLY</em> <br/> The exclusively owned flag indicates if the referenced configuration resource is exclusively
owned by the object. Configuration resources that are exclusively owned by an object will
be deleted when the object is deleted.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
</table>
<h2 id="tetrateio-api-tsb-application-v2-resourcestatus">ResourceStatus</h2>
<p>The ResourceStatus object provides information about the status of the configuration
related to an Application or an API object.</p>
<p>Applications and APIs are translated into configuration objects (config groups, ingress
gateways, etc). This status object reflects the status of the Application and APIs with
regard to the generated configuration, and exposes any configuration mismatch.
This status only reflects the status of the configuration objects in Service Bridge. It
does not provide information about the status of the generated configuration in the final
clusters.</p>
<div class="generated-table"></div>
<table>
<thead>
<tr>
<th>Field</th>
<th class="description">Description</th>
<th>Validation Rule</th>
</tr>
</thead>
<tr>
<td>
<p>status</p>
</td>
<td>
<p><a href="../../../tsb/application/v2/api#tetrateio-api-tsb-application-v2-status">tetrateio.api.tsb.application.v2.Status</a> <br/> <em>OUTPUT_ONLY</em> <br/> The aggregated configuration status for the Application/API.
In the case of applications, the status will also reflect the aggregated status of
the APIs attached to the application; if any of the APIs is missing / dirty, the
application status will reflect that.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
<tr>
<td>
<p>resources</p>
</td>
<td>
<p>List of <a href="../../../tsb/application/v2/api#tetrateio-api-tsb-application-v2-resourcestatus-configresourcestatus">tetrateio.api.tsb.application.v2.ResourceStatus.ConfigResourceStatus</a> <br/> <em>OUTPUT_ONLY</em> <br/> List of the individual configuration resource statuses.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
</table>
<h3 id="tetrateio-api-tsb-application-v2-resourcestatus-configresourcestatus">ConfigResourceStatus</h3>
<p>Individual status for a configuration resource related to the Application/API.</p>
<div class="generated-table"></div>
<table>
<thead>
<tr>
<th>Field</th>
<th class="description">Description</th>
<th>Validation Rule</th>
</tr>
</thead>
<tr>
<td>
<p>status</p>
</td>
<td>
<p><a href="../../../tsb/application/v2/api#tetrateio-api-tsb-application-v2-status">tetrateio.api.tsb.application.v2.Status</a> <br/> <em>OUTPUT_ONLY</em> <br/> The configuration status for the individual configuration resource.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
<tr>
<td>
<p>resource</p>
</td>
<td>
<p><a href="../../../tsb/application/v2/api#tetrateio-api-tsb-application-v2-configresource">tetrateio.api.tsb.application.v2.ConfigResource</a> <br/> <em>OUTPUT_ONLY</em> <br/> The resource for which the status has been computed.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
</table>
<h2 id="tetrateio-api-tsb-application-v2-status">Status</h2>
<p>The computed configuration status for the Application or API.</p>
<div class="generated-table"></div>
<table>
<thead>
<tr>
<th>Field</th>
<th>Number</th>
<th class="description">Description</th>
</tr>
</thead>
<tr>
<td>
<p>UNKNOWN</p>
</td>
<td>
<p>0</p>
</td>
<td>
<p>Unknown indicates that the status has not been computed.</p>
</td>
</tr>
<tr>
<td>
<p>MISSING</p>
</td>
<td>
<p>1</p>
</td>
<td>
<p>The missing status indicates that the configuration resource for the Applications
or APIs do not exist.</p>
</td>
</tr>
<tr>
<td>
<p>DIRTY</p>
</td>
<td>
<p>2</p>
</td>
<td>
<p>Dirty Applications and APIs are those that have the corresponding configuration
objects (config groups, ingress gateways, etc), but those objects have been
directly modified or they current configuration does not match the one specified
in the corresponding Application/API.</p>
</td>
</tr>
<tr>
<td>
<p>CONFIGURED</p>
</td>
<td>
<p>3</p>
</td>
<td>
<p>Configured Applications and APIs are those that have the corresponding
configuration resources (config groups, ingress gateways, etc) and their
configurations match the ones defined in the Application/API objects.</p>
</td>
</tr>
</table>

          </div>

          

<div class="article-tags">
  
  <a class="badge badge-light" href="/tag/tsb/">TSB</a>
  
</div>



          
          
          <div class="article-widget">
            
<div class="container-xl row post-nav">
  
  
  
  <a class="col-6 post-nav-item btn btn-lg mb-md-1" href="/tsb/refs/tsb/rbac/v2/access-bindings/" rel="next">
    <div class="meta-nav">上一页</div>
    <p>Access Bindings</p></a>
  
  
  
  <a class="col-6 post-nav-item btn btn-lg mb-md-1"  href="/tsb/refs/tsb/rbac/v2/api-access-bindings/" rel="prev">
    <div class="meta-nav">下一页</div>
    <p>API Access Bindings</p></a>
  
</div>

          </div>
          

        <div class="body-footer">
          <p>最近更新于 2024-03-06</p>

          





  

<p class="edit-page">
  <a href="https://github.com/rootsongjc/cloud-native-library//edit/master/content/tsb/refs/tsb/application/v2/api.md">
    <i class="fas fa-pen pr-2"></i>编辑本页
  </a>
</p>



          




          


        </div>

      </article>

      <footer class="site-footer">

  



  

  
  <div class="copyright py-4 bg-footer">
      <div class="row justify-content-center">
        <div class="text-center footer-color">
          <p class="mb-0">© 2017-2024 jimmysong.io all rights reserved</p>
        </div>
    </div>
  </div>

</footer>


    </main>
  </div>
</div>

  </div>

  <div class="page-footer">
    
    
  </div>

  


<script src="/js/vendor-bundle.min.5b2c48a98fb93f10e8d01cff2874cdf3.js"></script>




  

  
  

  

  
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.1/highlight.min.js" integrity="sha512-Ypjm0o7jOxAd4hpdoppSEN0TQOC19UtPAqD+4s5AlXmUvbmmS/YMxYqAqarQYyxTnB6/rqip9qcxlNB/3U9Wdg==" crossorigin="anonymous"></script>
    
    
  










  
  <script id="search-hit-fuse-template" type="text/x-template">
    <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <div class="article-metadata search-hit-type">{{relpermalink}}</div>
          <a href="{{relpermalink}}">{{title}}</a>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
    </div>
  </script>
  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.2.1/fuse.min.js" integrity="sha512-o38bmzBGX+hD3JHWUFCDA09btWaqrNmoJ3RXLlrysA7PP01Kgs4UlE4MhelE1v5dJR3+cxlR4qQlotsW7jKsnw==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha512-mhbv5DqBMgrWL+32MmsDOt/OAvqr/cHimk6B8y/bx/xS88MVkYGPiVv2ixKVrkywF2qHplNRUvFsAHUdxZ3Krg==" crossorigin="anonymous"></script>
  












  
  
  
  
  
  
  







<script id="page-data" type="application/json">{"use_headroom":false}</script>










  
  


<script src="/zh/js/wowchemy.min.a04788cdfce708339d31c0685377d64e.js"></script>







  
<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">引用</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <pre><code class="tex hljs"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-outline-primary my-1 js-copy-cite" href="#" target="_blank">
          <i class="fas fa-copy"></i> 复制
        </a>
        <a class="btn btn-outline-primary my-1 js-download-cite" href="#" target="_blank">
          <i class="fas fa-download"></i> 下载
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

  <script src="/js/wowchemy-publication.af9327db0521d4a01354bfc8b77a4324.js" type="module"></script>
<script>

var mybutton = document.getElementById("backTopBtn");


window.onscroll = function() {scrollFunction()};

function scrollFunction() {
  if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
    mybutton.style.display = "block";
  } else {
    mybutton.style.display = "none";
  }
}


function topFunction() {
  document.body.scrollTop = 0;
  document.documentElement.scrollTop = 0;
}
</script>






<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.2.2/anchor.min.js" integrity="sha512-I7w3ZdSFzw5j3jU3ZkNikBNeIrl3i+hEuEdwNmqUJvwNcaBUNcijnP2gd9DtGlgVYDplfjGoD8vTNsID+lCjqg==" crossorigin="anonymous"></script>
<script>
  anchors.add();
</script>



<script>



(function() {
  'use strict';

  if(!document.queryCommandSupported('copy')) {
    return;
  }

  function flashCopyMessage(el, msg) {
    el.className = "highlight-copy-btn";
    el.textContent = msg;
    setTimeout(function() {
      el.textContent = "";
      el.className = "highlight-copy-btn fa fa-copy";
    }, 1000);
  }

  function selectText(node) {
    var selection = window.getSelection();
    var range = document.createRange();
    range.selectNodeContents(node);
    selection.removeAllRanges();
    selection.addRange(range);
    return selection;
  }

  function addCopyButton(containerEl) {
    var copyBtn = document.createElement("button");
    copyBtn.className = "highlight-copy-btn fa fa-copy";
    copyBtn.textContent = "";

    var codeEl = containerEl.firstElementChild;
    copyBtn.addEventListener('click', function() {
      try {
        var selection = selectText(codeEl);
        document.execCommand('copy');
        selection.removeAllRanges();
        
        flashCopyMessage(copyBtn, '已复制')
        
      } catch(e) {
        console && console.log(e);
        flashCopyMessage(copyBtn, 'Failed :\'(')
      }
    });

    containerEl.appendChild(copyBtn);
  }

  
  var highlightBlocks = document.getElementsByClassName('highlight');
  Array.prototype.forEach.call(highlightBlocks, addCopyButton);
})();
</script>



<script>

function Collapse(e){
  var node = document.getElementById(e);
  if (node.className.indexOf('fa-angle-down') > -1){
    node.setAttribute("class", "fa-solid fa-angle-right");
    }else{
    node.setAttribute("class", "fa-solid fa-angle-down");
    }
}
</script>


</body>
</html>
