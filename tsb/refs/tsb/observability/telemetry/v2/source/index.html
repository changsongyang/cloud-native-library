<!DOCTYPE html><html lang="zh" >


<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  
  
  
    <meta name="generator" content="Wowchemy 5.5.0 for Hugo" />
  

  
  










  







  
  
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  

  
  
  
    
      
      <link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap">
      <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap" media="print" onload="this.media='all'">
    
  

  
    <meta name="google-site-verification" content="google69a5cccb61297807" />
    <meta name="baidu-site-verification" content="cqmZHEleVh" />
  
  
  
  
    
    
    
  
  

  <meta name="author" content="宋净超" />

  
  
  
    
  
  <meta name="description" content="Source describes a set of observed resources that have a group of metrics that emit measurements at runtime. A source specifies what is being observed (which resource types: service, ingress hostnames, relation, &hellip;) and how it is being observed (with which scope of observation).
A telemetry source can observe different types of resources in a single or aggregated way depending on the defined scope. A scope can be of type ServiceScope, IngressScope, or RelationScope, and they define the wingspan of the telemetry source in the mesh. Each scope contains information to determine if it is a single standalone source or an aggregation of standalone sources of the same type." />

  
  <link rel="alternate" hreflang="zh" href="https://lib.jimmysong.io/tsb/refs/tsb/observability/telemetry/v2/source/" />

  
  
  
    <meta name="theme-color" content="#0a55a7" />
  

  
  

  

  <link rel="stylesheet" href="/css/vendor-bundle.min.c7b8d9abd591ba2253ea42747e3ac3f5.css" media="print" onload="this.media='all'">

  
  
  
    
    

    
    
    
    
      
      
    
    
    

    
    
    
      
    
    
      
      
        
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.1/styles/github.min.css" crossorigin="anonymous" title="hl-light" media="print" onload="this.media='all'">
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.1/styles/dracula.min.css" crossorigin="anonymous" title="hl-dark" media="print" onload="this.media='all'" disabled>
        
      
    

    
    
    

    

    
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      
        
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
  

  
  
  
  
  
  <link rel="stylesheet" href="/css/wowchemy.2c25b2854625561177dfe556e1065970.css" />

  




<script async src="https://www.googletagmanager.com/gtag/js?id=G-MP490FS739"></script>

<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', "G-MP490FS739");
</script>


  


  


  


  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?2a4b7f65b1839466beaa48d633aa60c1";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>



  
  
  

  

  
    <link rel="manifest" href="/manifest.webmanifest" />
  

  <link rel="icon" type="image/png" href="/media/icon_hud79519197c2c386463324871b321d647_6772_32x32_fill_lanczos_center_3.png" />
  <link rel="apple-touch-icon" type="image/png" href="/media/icon_hud79519197c2c386463324871b321d647_6772_180x180_fill_lanczos_center_3.png" />

  <link rel="canonical" href="https://lib.jimmysong.io/tsb/refs/tsb/observability/telemetry/v2/source/" />

  
  
  
  
  
  
  
  
    
  
  

  
  
    
    
  
  <meta property="twitter:card" content="summary_large_image" />
  
    <meta property="twitter:site" content="@jimmysongio" />
    <meta property="twitter:creator" content="@jimmysongio" />
  
  <meta property="og:site_name" content="云原生资料库" />
  <meta property="og:url" content="https://lib.jimmysong.io/tsb/refs/tsb/observability/telemetry/v2/source/" />
  <meta property="og:title" content="Source | 云原生资料库" />
  <meta property="og:description" content="Source describes a set of observed resources that have a group of metrics that emit measurements at runtime. A source specifies what is being observed (which resource types: service, ingress hostnames, relation, &hellip;) and how it is being observed (with which scope of observation).
A telemetry source can observe different types of resources in a single or aggregated way depending on the defined scope. A scope can be of type ServiceScope, IngressScope, or RelationScope, and they define the wingspan of the telemetry source in the mesh. Each scope contains information to determine if it is a single standalone source or an aggregation of standalone sources of the same type." /><meta property="og:image" content="https://lib.jimmysong.io/media/sharing.png" />
    <meta property="twitter:image" content="https://lib.jimmysong.io/media/sharing.png" /><meta property="og:locale" content="zh" />
  
    
      <meta
        property="article:published_time"
        content="2023-08-09T12:00:00&#43;08:00"
      />
    
    <meta property="article:modified_time" content="2024-03-06T15:17:26&#43;08:00">
  

  



  

  

  





  <title>Source | 云原生资料库</title>
</head>


<body id="top" data-spy="scroll" data-offset="70" data-target="#TableOfContents" class="page-wrapper   " >
  <button onclick="topFunction()" id="backTopBtn" title="Go to top"><i class="fa-solid fa-circle-up" aria-hidden="true"></i></button>
  
  
  
  
  
  
  
  
  
  <script src="/js/wowchemy-init.min.62d6f8dfe8493f1c68557dde65bec362.js"></script>

  


<aside class="search-modal" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6 search-title">
          <p>搜索</p>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#" aria-label="关闭"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        
        <input name="q" id="search-query" placeholder="搜索..." autocapitalize="off"
        autocomplete="off" autocorrect="off" spellcheck="false" type="search" class="form-control"
        aria-label="搜索...">
        
      </div>

      
      

      
    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>

      <div id="search-common-queries">
        
      </div>

    </section>
  </div>
</aside>



  <div class="page-header">
    











  


<header class="header--fixed">
  <nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id="navbar-main">
    <div class="container-xl">

      
      <div class="d-none d-lg-inline-flex">
        <a class="navbar-brand" href="/"><img src="/media/logo.svg" alt="云原生资料库"
            
            ></a>
      </div>
      

      
      <button type="button" class="navbar-toggler" data-toggle="collapse"
              data-target="#navbar-content" aria-controls="navbar-content" aria-expanded="false" aria-label="切换导航">
      <span><i class="fas fa-bars"></i></span>
      </button>
      

      
      <div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none">
        <a class="navbar-brand" href="/"><img src="/media/logo.svg" alt="云原生资料库"
          
          ></a>
      </div>
      

      
      
      <div class="navbar-collapse main-menu-item collapse justify-content-start" id="navbar-content">

        
        <ul class="navbar-nav d-md-inline-flex">
          

          

          
          
          
            
          

          

          
          
          
          

          
            
              
              
            
            
              
              
              
                
              
              
            
          

          <li class="nav-item">
            <a class="nav-link " href="/#books"><span>图书</span></a>
          </li>

          
          

          
          <li class="nav-item dropdown">
            <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" aria-haspopup="true"><span>教程</span><span class="caret"></span>
            </a>
            <div class="dropdown-menu">
              
                <a class="dropdown-item" href="/kubernetes-handbook"><span>Kubernetes 基础教程</span></a>
              
                <a class="dropdown-item" href="https://academy.tetrate.io/courses/istio-fundamentals-zh"><span>Istio 基础教程</span></a>
              
                <a class="dropdown-item" href="https://academy.tetrate.io/courses/envoy-fundamentals-zh"><span>Envoy 基础教程</span></a>
              
            </div>
          </li>

          
          

          

          
          
          
            
              
            
          

          

          
          
          
          

          
            
              
              
            
            
          

          <li class="nav-item">
            <a class="nav-link " href="https://jimmysong.io/blog/" target="_blank" rel="noopener"><span>博客</span></a>
          </li>

          
          

          

          
          
          
            
              
            
          

          

          
          
          
          

          
            
              
              
            
            
          

          <li class="nav-item">
            <a class="nav-link " href="https://cloudnative.to/" target="_blank" rel="noopener"><span>社区</span></a>
          </li>

          
          

          

          
          
          
            
          

          

          
          
          
          

          
            
              
              
            
            
              
              
              
                
              
              
            
          

          <li class="nav-item">
            <a class="nav-link " href="/#tags"><span>标签</span></a>
          </li>

          
          

          

          
          
          
            
          

          

          
          
          
          

          
            
              
              
            
            
              
              
              
                
              
              
            
          

          <li class="nav-item">
            <a class="nav-link " href="/#about"><span>关于</span></a>
          </li>

          
          

        

          
        </ul>
      </div>

      <ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2">

        
        
          
            
            <li class="nav-item d-none d-lg-inline-flex">
              <a class="nav-link" href="https://jimmysong.io/contact/" data-toggle="tooltip" data-placement="bottom" title="联系" target="_blank" rel="noopener" aria-label="联系">
                <i class="fab fa-weixin" aria-hidden="true"></i>
              </a>
            </li>
          
            
            <li class="nav-item d-none d-lg-inline-flex">
              <a class="nav-link" href="https://twitter.com/jimmysongio" data-toggle="tooltip" data-placement="bottom" title="关注" target="_blank" rel="noopener" aria-label="关注">
                <i class="fab fa-twitter" aria-hidden="true"></i>
              </a>
            </li>
          
        

        
        <li class="nav-item">
            <a class="nav-link" href="https://jimmysong.io" target="_blank" rel="noopener" data-toggle="tooltip" data-placement="bottom" title="首页" aria-label="首页"><i class="fas fa-home" aria-hidden="true"></i></a>
        </li>
        

        
        
        <li class="nav-item">
            <a class="nav-link js-search" href="#" data-toggle="tooltip" data-placement="bottom" title="搜索" aria-label="搜索"><i class="fas fa-search" aria-hidden="true"></i></a>
        </li>
        

        
        

        
        
        
        <li class="nav-item">
          <a href="#" class="nav-link set-theme">
            <i class="fa fa-sun" aria-hidden="true" id="theme-icon"></i>
          </a>
        </li>
        

        
        

      </ul>

    </div>
  </nav>
</header>


  </div>

  <div class="page-body">
    
    
    

    




<div class="container-xl docs">
  <div class="row flex-xl-nowrap">
    <div class="docs-sidebar">
      <form class="docs-search d-flex align-items-center">
  <button class="btn docs-toggle d-md-none p-0 mr-md-3 w-100" type="button" data-toggle="collapse" data-target="#docs-nav" aria-controls="docs-nav" aria-expanded="false" aria-label="Toggle section navigation">
    <div class="d-flex">
      <span class="d-md-none pl-1 flex-grow-1 text-left overflow-hidden">
        
          tsb
        
      </span>
      <span><i class="fas fa-chevron-down"></i></span>
    </div>
  </button>

  
  <button class="form-control sidebar-search js-search d-none d-md-flex">
    <i class="fas fa-search pr-2"></i>
    <span class="sidebar-search-text">搜索...</span>
    <span class="sidebar-search-shortcut">/</span>
  </button>
  
</form>

<nav class="collapse docs-links" id="docs-nav">
  
  
  
  
  
  

  
  
    

    
      

      
  
</nav>

    </div>

    
    
    <div class="d-none d-xl-block col-xl-2 docs-toc">
      
     
      <ul class="nav toc-top">
        <li><a href="#" id="back_to_top" class="docs-toc-title">目录</a></li>
      </ul>
     

      <nav id="TableOfContents">
  <ul>
    <li><a href="#tetrateio-api-tsb-observability-telemetry-v2-source">Source</a></li>
    <li><a href="#tetrateio-api-tsb-observability-telemetry-v2-sourcescope">SourceScope</a>
      <ul>
        <li><a href="#tetrateio-api-tsb-observability-telemetry-v2-sourcescope-ingressscopes">IngressScopes</a></li>
        <li><a href="#tetrateio-api-tsb-observability-telemetry-v2-sourcescope-relationscopes">RelationScopes</a></li>
        <li><a href="#tetrateio-api-tsb-observability-telemetry-v2-sourcescope-servicescopes">ServiceScopes</a></li>
      </ul>
    </li>
    <li><a href="#tetrateio-api-tsb-observability-telemetry-v2-sourcescopetype">SourceScopeType</a></li>
  </ul>
</nav>

      

    </div>
    

    <main class="py-md-3 pl-md-3 docs-content col-xl-8" role="main">

      <article class="article">

          
            
  <nav class="d-none d-md-flex" aria-label="breadcrumb">
    <ol class="breadcrumb">
      
  
    
  
    
  
    
  
    
  

    <li class="breadcrumb-item">
      <a href="/">
        
          首页
        
      </a>
    </li>
  

    <li class="breadcrumb-item">
      <a href="/tsb/">
        
          TSB 手册
        
      </a>
    </li>
  

    <li class="breadcrumb-item">
      <a href="/tsb/refs/">
        
          API
        
      </a>
    </li>
  

    <li class="breadcrumb-item">
      <a href="/tsb/refs/tsb/">
        
          tsb
        
      </a>
    </li>
  

      <li class="breadcrumb-item active" aria-current="page">
        Source
      </li>
    </ol>
  </nav>




          

          <h1>Source</h1>

          <div class="article-style">
            <!-- WARNING: This page is generated. Please take a look at extensions/plugin-service-bridge-api-docs/src/files/doc/page.ejs -->
<p><code>Source</code> describes a set of observed resources that have a group of metrics that emit measurements at runtime.
A source specifies <strong>what</strong> is being observed (which resource types: service, ingress hostnames,
relation, &hellip;) and <strong>how</strong> it is being observed (with which scope of observation).</p>
<p>A telemetry source can observe different types of resources in a single or aggregated way depending on the defined
scope. A scope can be of type ServiceScope, IngressScope, or RelationScope, and they define the wingspan of the
telemetry source in the mesh. Each scope contains information to determine if it is a single standalone source or an
aggregation of standalone sources of the same type.</p>
<p>ServiceScope can be one of the following types which define the span of a service&rsquo;s telemetry source in the mesh as:</p>
<ul>
<li>INSTANCE: A single specific service instance (pod or VM) in a cluster.</li>
<li>SERVICE: An aggregation of all instances of a specific service of a concrete version (subset) in a cluster.</li>
<li>SUBSET: An aggregation of all instances of a specific service of a concrete version (subset) across clusters.</li>
<li>GLOBAL: An aggregation of all instances from all the versions of a specific service across clusters.</li>
</ul>
<p>IngressScope can be one the following types which define the span of Ingress hostname&rsquo;s telemetry source in the mesh as:</p>
<ul>
<li>HOSTNAME: A ingress&rsquo;s hostname in a concrete cluster.</li>
<li>GLOBAL: A ingress&rsquo;s hostname across clusters.</li>
</ul>
<p>A Telemetry source can also observe relation between resources. A relation is the physical connection between
resources when a call between them has been done. For instance, a relation exists when a gateway calls a service or
vice versa, or a service calls another service. That relation (call) can be seen (detected) from the server side,
client-side, or both.
For instance, when a gateway calls a service, and both resources are observed, the relation can be seen from both
sides, the client and the server. In this case, the gateway is the client-side of the relation observation and the
service is the server side of the observation. Each of the observation points (client or server) in the relation will
produce different measurements for the same metric. Which means that, if we take the duration metric of the relation,
we will have a concrete value (measurement) from the client point of view and another value from the server point
view, where the client-side observed duration will be greater than the server side duration, in which the difference
between durations is the network/transport introduced latency.</p>
<p>RelationScope can be one the following types which define the span of a relation telemetry source in the mesh as:</p>
<ul>
<li>SERVICE: A relation between logical services.</li>
</ul>
<p>To understand a bit better <strong>what</strong> and <strong>how</strong> a telemetry source can observe, let&rsquo;s assume we have deployed the classic
Istio <a href="https://istio.io/latest/docs/examples/bookinfo/" target="_blank" rel="noopener">bookinfo demo application</a> in 2 clusters, <code>demo</code> and
<code>demo-disaster-recovery</code>.
If we take as an example the reviews service which has 3 different versions (subsets V1, V2, and V3) for <strong>what</strong> is
being observed, we will have different telemetry sources available which will tell us <strong>how</strong> (which scope) they are
being observed.</p>
<p>An INSTANCE scoped telemetry source for a concrete review service instance (pod) running on the demo cluster will be:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l">observability.telemetry.tsb.tetrate.io/v2</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l">Source</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">metadata</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">organization</span><span class="p">:</span><span class="w"> </span><span class="l">myorg</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">service</span><span class="p">:</span><span class="w"> </span><span class="l">reviews.bookinfo</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">reviews-v1-545db77b95-vhtlj</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">spec</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">belongsTo</span><span class="p">:</span><span class="w"> </span><span class="l">organizations/myorg/services/reviews.bookinfo</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">metric_source_key</span><span class="p">:</span><span class="w"> </span><span class="l">djF8cmV2aWV3c3xib29raW5mb3xkZW1vfC0=.1_cmV2aWV3cy12MS01NDVkYjc3Yjk1LXZodGxq</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">service_scopes</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">INSTANCE</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">scope</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">instance</span><span class="p">:</span><span class="w"> </span><span class="l">reviews-v1-545db77b95-vhtlj</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">subset</span><span class="p">:</span><span class="w"> </span><span class="l">v1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">service</span><span class="p">:</span><span class="w"> </span><span class="l">reviews</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l">bookinfo</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">cluster</span><span class="p">:</span><span class="w"> </span><span class="l">demo</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">deployment</span><span class="p">:</span><span class="w"> </span><span class="l">organizations/myorg/clusters/demo/namespaces/bookinfo/services/reviews</span><span class="w">
</span></span></span></code></pre></div><p>A SUBSET scoped telemetry source for the reviews service of v1 subset running on the demo cluster will be:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l">observability.telemetry.tsb.tetrate.io/v2</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l">Source</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">metadata</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">organization</span><span class="p">:</span><span class="w"> </span><span class="l">myorg</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">service</span><span class="p">:</span><span class="w"> </span><span class="l">reviews.bookinfo</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">reviews-v1-demo</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">spec</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">belongsTo</span><span class="p">:</span><span class="w"> </span><span class="l">organizations/myorg/services/reviews.bookinfo</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">metric_source_key</span><span class="p">:</span><span class="w"> </span><span class="l">djF8cmV2aWV3c3xib29raW5mb3xkZW1vfC0=.1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">service_scopes</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">SUBSET</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">scope</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">subset</span><span class="p">:</span><span class="w"> </span><span class="l">v1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">service</span><span class="p">:</span><span class="w"> </span><span class="l">reviews</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l">bookinfo</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">cluster</span><span class="p">:</span><span class="w"> </span><span class="l">demo</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">deployment</span><span class="p">:</span><span class="w"> </span><span class="l">organizations/myorg/clusters/demo/namespaces/bookinfo/services/reviews</span><span class="w">
</span></span></span></code></pre></div><p>A GLOBAL_SUBSET scope telemetry source for the reviews services of version v1 running across clusters will be:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l">observability.telemetry.tsb.tetrate.io/v2</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l">Source</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">metadata</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">organization</span><span class="p">:</span><span class="w"> </span><span class="l">myorg</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">service</span><span class="p">:</span><span class="w"> </span><span class="l">reviews.bookinfo</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">reviews-v1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">spec</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">belongsTo</span><span class="p">:</span><span class="w"> </span><span class="l">organizations/myorg/services/reviews.bookinfo</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">metric_source_key</span><span class="p">:</span><span class="w"> </span><span class="l">djF8cmV2aWV3c3xib29raW5mb3wqfCo=.1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">service_scopes</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">GLOBAL_SUBSET</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">scope</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">subset</span><span class="p">:</span><span class="w"> </span><span class="l">v1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">service</span><span class="p">:</span><span class="w"> </span><span class="l">reviews</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l">bookinfo</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">deployment</span><span class="p">:</span><span class="w"> </span><span class="l">organizations/myorg/clusters/demo/namespaces/bookinfo/services/reviews</span><span class="w">
</span></span></span></code></pre></div><p>A GLOBAL scoped telemetry source for the reviews service of all subsets(v1, v2, and v3) running across all clusters
will be:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l">observability.telemetry.tsb.tetrate.io/v2</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l">Source</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">metadata</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">organization</span><span class="p">:</span><span class="w"> </span><span class="l">myorg</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">service</span><span class="p">:</span><span class="w"> </span><span class="l">reviews.bookinfo</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">reviews</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">spec</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">belongsTo</span><span class="p">:</span><span class="w"> </span><span class="l">organizations/myorg/services/reviews.bookinfo</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">metric_source_key</span><span class="p">:</span><span class="w"> </span><span class="l">djF8cmV2aWV3c3xib29raW5mb3wqfCo=.1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">service_scopes</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">GLOBAL</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">scope</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">service</span><span class="p">:</span><span class="w"> </span><span class="l">reviews</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l">bookinfo</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">deployment</span><span class="p">:</span><span class="w"> </span><span class="l">organizations/myorg/clusters/demo/namespaces/bookinfo/services/reviews</span><span class="w">
</span></span></span></code></pre></div><h2 id="tetrateio-api-tsb-observability-telemetry-v2-source">Source</h2>
<p>Source identifies a set of observed resources that have a group of metrics that emit measurements at runtime.</p>
<div class="generated-table"></div>
<table>
<thead>
<tr>
<th>Field</th>
<th class="description">Description</th>
<th>Validation Rule</th>
</tr>
</thead>
<tr>
<td>
<p>belongsTo</p>
</td>
<td>
<p><a href="https://developers.google.com/protocol-buffers/docs/proto3#scalar" target="_blank" rel="noopener">string</a> <br/> <em>OUTPUT_ONLY</em> <br/> Which concrete TSB resource in the configuration hierarchy this telemetry source belongs to.
For instance, a telemetry source can belong to a service,or a gateway, or a workspace, or any other resource in the
configuration hierarchy.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
<tr>
<td>
<p>metricSourceKey</p>
</td>
<td>
<p><a href="https://developers.google.com/protocol-buffers/docs/proto3#scalar" target="_blank" rel="noopener">string</a> <br/> <em>OUTPUT_ONLY</em> <br/> A key to query metric measurements from the resources that the telemetry source is observing.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
<tr>
<td>
<p>type</p>
</td>
<td>
<p><a href="../../../../tsb/observability/telemetry/v2/source#tetrateio-api-tsb-observability-telemetry-v2-sourcescopetype">tetrateio.api.tsb.observability.telemetry.v2.SourceScopeType</a> <br/> The type of resource which the telemetry source is observing, a service, an ingress, or a relation.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
<tr>
<td>
<p>scope</p>
</td>
<td>
<p><a href="../../../../tsb/observability/telemetry/v2/source#tetrateio-api-tsb-observability-telemetry-v2-sourcescope">tetrateio.api.tsb.observability.telemetry.v2.SourceScope</a> <br/></p>
</td>
<td>
<p>–</p>
</td>
</tr>
</table>
<h2 id="tetrateio-api-tsb-observability-telemetry-v2-sourcescope">SourceScope</h2>
<p>Source scope defines the source&rsquo;s wingspan in the mesh. It defines how we are observing the resources.
For instance we can observer a resources at service, ingress, or relation level.</p>
<div class="generated-table"></div>
<table>
<thead>
<tr>
<th>Field</th>
<th class="description">Description</th>
<th>Validation Rule</th>
</tr>
</thead>
<tr>
<td>
<p>serviceScopes</p>
</td>
<td>
<p><a href="../../../../tsb/observability/telemetry/v2/source#tetrateio-api-tsb-observability-telemetry-v2-sourcescope-servicescopes">tetrateio.api.tsb.observability.telemetry.v2.SourceScope.ServiceScopes</a> <em><sup><a href="https://developers.google.com/protocol-buffers/docs/proto3#oneof" target="_blank">oneof</a> scope</sup></em> <br/> ServiceScopes defines one or many service&rsquo;s telemetry source wingspan in the mesh.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
<tr>
<td>
<p>ingressScopes</p>
</td>
<td>
<p><a href="../../../../tsb/observability/telemetry/v2/source#tetrateio-api-tsb-observability-telemetry-v2-sourcescope-ingressscopes">tetrateio.api.tsb.observability.telemetry.v2.SourceScope.IngressScopes</a> <em><sup><a href="https://developers.google.com/protocol-buffers/docs/proto3#oneof" target="_blank">oneof</a> scope</sup></em> <br/> IngressScopes defines one or many Ingress&rsquo;s telemetry source wingspan in the mesh.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
<tr>
<td>
<p>relationScopes</p>
</td>
<td>
<p><a href="../../../../tsb/observability/telemetry/v2/source#tetrateio-api-tsb-observability-telemetry-v2-sourcescope-relationscopes">tetrateio.api.tsb.observability.telemetry.v2.SourceScope.RelationScopes</a> <em><sup><a href="https://developers.google.com/protocol-buffers/docs/proto3#oneof" target="_blank">oneof</a> scope</sup></em> <br/> RelationScopes defines one or many Relation&rsquo;s telemetry source wingspan in the mesh.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
</table>
<h3 id="tetrateio-api-tsb-observability-telemetry-v2-sourcescope-ingressscopes">IngressScopes</h3>
<p>IngressScopes defines one or many Ingress&rsquo;s hostname telemetry source wingspan in the mesh.</p>
<div class="generated-table"></div>
<table>
<thead>
<tr>
<th>Field</th>
<th class="description">Description</th>
<th>Validation Rule</th>
</tr>
</thead>
<tr>
<td>
<p>scopes</p>
</td>
<td>
<p>List of <a href="../../../../tsb/observability/telemetry/v2/source#tetrateio-api-tsb-observability-telemetry-v2-sourcescope-ingressscopes-ingressscope">tetrateio.api.tsb.observability.telemetry.v2.SourceScope.IngressScopes.IngressScope</a> <br/> Multiple IngressScope can be defined to group under a single telemetry source different ingresses.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
</table>
<h4 id="tetrateio-api-tsb-observability-telemetry-v2-sourcescope-ingressscopes-ingressscope">IngressScope</h4>
<p>An ingress defines the telemetry source wingspan in the mesh of ingress&rsquo;s hostname.</p>
<div class="generated-table"></div>
<table>
<thead>
<tr>
<th>Field</th>
<th class="description">Description</th>
<th>Validation Rule</th>
</tr>
</thead>
<tr>
<td>
<p>type</p>
</td>
<td>
<p><a href="../../../../tsb/observability/telemetry/v2/source#tetrateio-api-tsb-observability-telemetry-v2-sourcescope-ingressscopes-ingressscope-scopetype">tetrateio.api.tsb.observability.telemetry.v2.SourceScope.IngressScopes.IngressScope.ScopeType</a> <br/> Type of the scope.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
<tr>
<td>
<p>scope</p>
</td>
<td>
<p><a href="../../../../tsb/observability/telemetry/v2/source#tetrateio-api-tsb-observability-telemetry-v2-sourcescope-ingressscopes-ingressscope-scope">tetrateio.api.tsb.observability.telemetry.v2.SourceScope.IngressScopes.IngressScope.Scope</a> <br/> The scope that this telemetry source spans over.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
<tr>
<td>
<p>deployment</p>
</td>
<td>
<p><a href="https://developers.google.com/protocol-buffers/docs/proto3#scalar" target="_blank" rel="noopener">string</a> <br/> The FQN of the service deployment in a concrete cluster related with this telemetry source scope.
Will have a value for scope types HOSTNAME.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
</table>
<h5 id="tetrateio-api-tsb-observability-telemetry-v2-sourcescope-ingressscopes-ingressscope-scope">Scope</h5>
<p>Each of the scope properties can have the following values:</p>
<ul>
<li>A non empty value.</li>
<li>An empty value or absence of the property act as a wildcard, meaning any possible value.</li>
</ul>
<div class="generated-table"></div>
<table>
<thead>
<tr>
<th>Field</th>
<th class="description">Description</th>
<th>Validation Rule</th>
</tr>
</thead>
<tr>
<td>
<p>hostname</p>
</td>
<td>
<p><a href="https://developers.google.com/protocol-buffers/docs/proto3#scalar" target="_blank" rel="noopener">string</a> <br/> hostname is always a concrete value</p>
</td>
<td>
<p>–</p>
</td>
</tr>
<tr>
<td>
<p>ingressService</p>
</td>
<td>
<p><a href="https://developers.google.com/protocol-buffers/docs/proto3#scalar" target="_blank" rel="noopener">string</a> <br/> ingress_service is always a concrete value</p>
</td>
<td>
<p>–</p>
</td>
</tr>
<tr>
<td>
<p>cluster</p>
</td>
<td>
<p><a href="https://developers.google.com/protocol-buffers/docs/proto3#scalar" target="_blank" rel="noopener">string</a> <br/> cluster can be a concrete value or an empty value meaning any cluster.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
</table>
<h3 id="tetrateio-api-tsb-observability-telemetry-v2-sourcescope-relationscopes">RelationScopes</h3>
<p>RelationScopes  represents the physical connection that exists between observable resources.
A relation can represent for instance the physical connection that exist when a call between services is done:</p>
<ul>
<li>Between a gateway and a service or vice versa.</li>
<li>Between a service and another service.
This observation can produce client-side measurements, server side measurements or both.</li>
</ul>
<div class="generated-table"></div>
<table>
<thead>
<tr>
<th>Field</th>
<th class="description">Description</th>
<th>Validation Rule</th>
</tr>
</thead>
<tr>
<td>
<p>scopes</p>
</td>
<td>
<p>List of <a href="../../../../tsb/observability/telemetry/v2/source#tetrateio-api-tsb-observability-telemetry-v2-sourcescope-relationscopes-relationscope">tetrateio.api.tsb.observability.telemetry.v2.SourceScope.RelationScopes.RelationScope</a> <br/> Multiple RelationScope can be defined to group under a single telemetry source different relations.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
</table>
<h4 id="tetrateio-api-tsb-observability-telemetry-v2-sourcescope-relationscopes-relationscope">RelationScope</h4>
<div class="generated-table"></div>
<table>
<thead>
<tr>
<th>Field</th>
<th class="description">Description</th>
<th>Validation Rule</th>
</tr>
</thead>
<tr>
<td>
<p>type</p>
</td>
<td>
<p><a href="../../../../tsb/observability/telemetry/v2/source#tetrateio-api-tsb-observability-telemetry-v2-sourcescope-relationscopes-relationscope-scopetype">tetrateio.api.tsb.observability.telemetry.v2.SourceScope.RelationScopes.RelationScope.ScopeType</a> <br/> Type of the scope.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
<tr>
<td>
<p>scope</p>
</td>
<td>
<p><a href="../../../../tsb/observability/telemetry/v2/source#tetrateio-api-tsb-observability-telemetry-v2-sourcescope-relationscopes-relationscope-scope">tetrateio.api.tsb.observability.telemetry.v2.SourceScope.RelationScopes.RelationScope.Scope</a> <br/> The scope that this telemetry source spans over.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
</table>
<h5 id="tetrateio-api-tsb-observability-telemetry-v2-sourcescope-relationscopes-relationscope-scope">Scope</h5>
<div class="generated-table"></div>
<table>
<thead>
<tr>
<th>Field</th>
<th class="description">Description</th>
<th>Validation Rule</th>
</tr>
</thead>
<tr>
<td>
<p>serviceRelation</p>
</td>
<td>
<p><a href="../../../../tsb/observability/telemetry/v2/source#tetrateio-api-tsb-observability-telemetry-v2-sourcescope-relationscopes-relationscope-servicerelation">tetrateio.api.tsb.observability.telemetry.v2.SourceScope.RelationScopes.RelationScope.ServiceRelation</a> <em><sup><a href="https://developers.google.com/protocol-buffers/docs/proto3#oneof" target="_blank">oneof</a> relation_type</sup></em> <br/></p>
</td>
<td>
<p>–</p>
</td>
</tr>
</table>
<h5 id="tetrateio-api-tsb-observability-telemetry-v2-sourcescope-relationscopes-relationscope-servicerelation">ServiceRelation</h5>
<p>A relation between logical services.</p>
<div class="generated-table"></div>
<table>
<thead>
<tr>
<th>Field</th>
<th class="description">Description</th>
<th>Validation Rule</th>
</tr>
</thead>
<tr>
<td>
<p>source</p>
</td>
<td>
<p><a href="https://developers.google.com/protocol-buffers/docs/proto3#scalar" target="_blank" rel="noopener">string</a> <br/> The source resource&rsquo;s fqn of the relation between two logical services.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
<tr>
<td>
<p>target</p>
</td>
<td>
<p><a href="https://developers.google.com/protocol-buffers/docs/proto3#scalar" target="_blank" rel="noopener">string</a> <br/> The target resource&rsquo;s fqn of the relation between two logical services.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
</table>
<h3 id="tetrateio-api-tsb-observability-telemetry-v2-sourcescope-servicescopes">ServiceScopes</h3>
<p>ServiceScopes defines one or many service&rsquo;s telemetry source wingspan in the mesh.</p>
<div class="generated-table"></div>
<table>
<thead>
<tr>
<th>Field</th>
<th class="description">Description</th>
<th>Validation Rule</th>
</tr>
</thead>
<tr>
<td>
<p>scopes</p>
</td>
<td>
<p>List of <a href="../../../../tsb/observability/telemetry/v2/source#tetrateio-api-tsb-observability-telemetry-v2-sourcescope-servicescopes-servicescope">tetrateio.api.tsb.observability.telemetry.v2.SourceScope.ServiceScopes.ServiceScope</a> <br/> Multiple ServiceScope can be defined to group under a single telemetry source different services.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
</table>
<h4 id="tetrateio-api-tsb-observability-telemetry-v2-sourcescope-servicescopes-servicescope">ServiceScope</h4>
<p>A service scope defines the telemetry source wingspan in the mesh of a service.</p>
<div class="generated-table"></div>
<table>
<thead>
<tr>
<th>Field</th>
<th class="description">Description</th>
<th>Validation Rule</th>
</tr>
</thead>
<tr>
<td>
<p>type</p>
</td>
<td>
<p><a href="../../../../tsb/observability/telemetry/v2/source#tetrateio-api-tsb-observability-telemetry-v2-sourcescope-servicescopes-servicescope-scopetype">tetrateio.api.tsb.observability.telemetry.v2.SourceScope.ServiceScopes.ServiceScope.ScopeType</a> <br/> Type of the scope.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
<tr>
<td>
<p>scope</p>
</td>
<td>
<p><a href="../../../../tsb/observability/telemetry/v2/source#tetrateio-api-tsb-observability-telemetry-v2-sourcescope-servicescopes-servicescope-scope">tetrateio.api.tsb.observability.telemetry.v2.SourceScope.ServiceScopes.ServiceScope.Scope</a> <br/> The scope that this telemetry source spans over.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
<tr>
<td>
<p>deployment</p>
</td>
<td>
<p><a href="https://developers.google.com/protocol-buffers/docs/proto3#scalar" target="_blank" rel="noopener">string</a> <br/> The FQN of the service deployment in a concrete cluster related with this telemetry source scope.
Will have a value for scope types INSTANCE or SERVICE.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
</table>
<h5 id="tetrateio-api-tsb-observability-telemetry-v2-sourcescope-servicescopes-servicescope-scope">Scope</h5>
<p>Each of the scope properties can have the following values:</p>
<ul>
<li>A non empty value.</li>
<li>An empty value or absence of the property act as a wildcard, meaning any possible value.</li>
</ul>
<div class="generated-table"></div>
<table>
<thead>
<tr>
<th>Field</th>
<th class="description">Description</th>
<th>Validation Rule</th>
</tr>
</thead>
<tr>
<td>
<p>instance</p>
</td>
<td>
<p><a href="https://developers.google.com/protocol-buffers/docs/proto3#scalar" target="_blank" rel="noopener">string</a> <br/> instance is a concrete value or an empty value meaning any instance.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
<tr>
<td>
<p>subset</p>
</td>
<td>
<p><a href="https://developers.google.com/protocol-buffers/docs/proto3#scalar" target="_blank" rel="noopener">string</a> <br/> subset can be a concrete value or an empty value meaning any subset.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
<tr>
<td>
<p>service</p>
</td>
<td>
<p><a href="https://developers.google.com/protocol-buffers/docs/proto3#scalar" target="_blank" rel="noopener">string</a> <br/> service is always a concrete value.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
<tr>
<td>
<p>namespace</p>
</td>
<td>
<p><a href="https://developers.google.com/protocol-buffers/docs/proto3#scalar" target="_blank" rel="noopener">string</a> <br/> namespace is always a concrete value.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
<tr>
<td>
<p>cluster</p>
</td>
<td>
<p><a href="https://developers.google.com/protocol-buffers/docs/proto3#scalar" target="_blank" rel="noopener">string</a> <br/> cluster can be a concrete value or an empty value meaning any cluster.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
</table>
<h5 id="tetrateio-api-tsb-observability-telemetry-v2-sourcescope-ingressscopes-ingressscope-scopetype">ScopeType</h5>
<p>ScopeType denotes the wingspan of a telemetry source for an ingress&rsquo;s hostname.</p>
<div class="generated-table"></div>
<table>
<thead>
<tr>
<th>Field</th>
<th>Number</th>
<th class="description">Description</th>
</tr>
</thead>
<tr>
<td>
<p>INVALID</p>
</td>
<td>
<p>0</p>
</td>
<td>
</td>
</tr>
<tr>
<td>
<p>HOSTNAME</p>
</td>
<td>
<p>1</p>
</td>
<td>
<p>A hostname telemetry source that belongs to a specific ingress instance in a cluster.</p>
</td>
</tr>
<tr>
<td>
<p>GLOBAL</p>
</td>
<td>
<p>2</p>
</td>
<td>
<p>A global telemetry source of a hostname from an ingress across clusters.</p>
</td>
</tr>
</table>
<h5 id="tetrateio-api-tsb-observability-telemetry-v2-sourcescope-relationscopes-relationscope-scopetype">ScopeType</h5>
<p>ScopeType denotes the wingspan of a telemetry source for relation between resources.</p>
<div class="generated-table"></div>
<table>
<thead>
<tr>
<th>Field</th>
<th>Number</th>
<th class="description">Description</th>
</tr>
</thead>
<tr>
<td>
<p>INVALID</p>
</td>
<td>
<p>0</p>
</td>
<td>
</td>
</tr>
<tr>
<td>
<p>SERVICE</p>
</td>
<td>
<p>1</p>
</td>
<td>
<p>A service telemetry source that belongs to a specific relation between logical services.</p>
</td>
</tr>
</table>
<h5 id="tetrateio-api-tsb-observability-telemetry-v2-sourcescope-servicescopes-servicescope-scopetype">ScopeType</h5>
<p>ScopeType denotes the wingspan of a telemetry source for a service.</p>
<div class="generated-table"></div>
<table>
<thead>
<tr>
<th>Field</th>
<th>Number</th>
<th class="description">Description</th>
</tr>
</thead>
<tr>
<td>
<p>INVALID</p>
</td>
<td>
<p>0</p>
</td>
<td>
</td>
</tr>
<tr>
<td>
<p>INSTANCE</p>
</td>
<td>
<p>1</p>
</td>
<td>
<p>A instance telemetry source belongs to a specific service instance (pod or VM) in a cluster.</p>
</td>
</tr>
<tr>
<td>
<p>SERVICE</p>
</td>
<td>
<p>2</p>
</td>
<td>
<p>A service telemetry source belongs to a specific service, without subsets, in a cluster.</p>
</td>
</tr>
<tr>
<td>
<p>SUBSET</p>
</td>
<td>
<p>3</p>
</td>
<td>
<p>A subset telemetry source belongs to a specific service of a concrete subset in a cluster.</p>
</td>
</tr>
<tr>
<td>
<p>GLOBAL_SUBSET</p>
</td>
<td>
<p>4</p>
</td>
<td>
<p>A global subset telemetry source represents a concrete subset from a service across cluster.
Subset scope type does not apply to ingress services.</p>
</td>
</tr>
<tr>
<td>
<p>GLOBAL</p>
</td>
<td>
<p>5</p>
</td>
<td>
<p>A global telemetry source represents all subsets from a service across clusters.</p>
</td>
</tr>
</table>
<h2 id="tetrateio-api-tsb-observability-telemetry-v2-sourcescopetype">SourceScopeType</h2>
<p>The type of scopes which defines telemetry source&rsquo;s wingspan in the mesh.</p>
<div class="generated-table"></div>
<table>
<thead>
<tr>
<th>Field</th>
<th>Number</th>
<th class="description">Description</th>
</tr>
</thead>
<tr>
<td>
<p>INVALID</p>
</td>
<td>
<p>0</p>
</td>
<td>
</td>
</tr>
<tr>
<td>
<p>SERVICE</p>
</td>
<td>
<p>1</p>
</td>
<td>
<p>A telemetry source service based scope.</p>
</td>
</tr>
<tr>
<td>
<p>INGRESS</p>
</td>
<td>
<p>2</p>
</td>
<td>
<p>A telemetry source ingress's hostname based scope.</p>
</td>
</tr>
<tr>
<td>
<p>RELATION</p>
</td>
<td>
<p>3</p>
</td>
<td>
<p>A telemetry source relation based scope.</p>
</td>
</tr>
</table>

          </div>

          

<div class="article-tags">
  
  <a class="badge badge-light" href="/tag/tsb/">TSB</a>
  
</div>



          
          
          <div class="article-widget">
            
<div class="container-xl row post-nav">
  
  
  
  <a class="col-6 post-nav-item btn btn-lg mb-md-1" href="/tsb/refs/tsb/registry/v2/registration-service/" rel="next">
    <div class="meta-nav">上一页</div>
    <p>Servive Registry Registration Service</p></a>
  
  
  
  <a class="col-6 post-nav-item btn btn-lg mb-md-1"  href="/tsb/refs/tsb/v2/status/" rel="prev">
    <div class="meta-nav">下一页</div>
    <p>Status</p></a>
  
</div>

          </div>
          

        <div class="body-footer">
          <p>最近更新于 2024-03-06</p>

          





  

<p class="edit-page">
  <a href="https://github.com/rootsongjc/cloud-native-library//edit/master/content/tsb/refs/tsb/observability/telemetry/v2/source.md">
    <i class="fas fa-pen pr-2"></i>编辑本页
  </a>
</p>



          




          


        </div>

      </article>

      <footer class="site-footer">

  



  

  
  <div class="copyright py-4 bg-footer">
      <div class="row justify-content-center">
        <div class="text-center footer-color">
          <p class="mb-0">© 2017-2024 jimmysong.io all rights reserved</p>
        </div>
    </div>
  </div>

</footer>


    </main>
  </div>
</div>

  </div>

  <div class="page-footer">
    
    
  </div>

  


<script src="/js/vendor-bundle.min.5b2c48a98fb93f10e8d01cff2874cdf3.js"></script>




  

  
  

  

  
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.1/highlight.min.js" integrity="sha512-Ypjm0o7jOxAd4hpdoppSEN0TQOC19UtPAqD+4s5AlXmUvbmmS/YMxYqAqarQYyxTnB6/rqip9qcxlNB/3U9Wdg==" crossorigin="anonymous"></script>
    
    
  










  
  <script id="search-hit-fuse-template" type="text/x-template">
    <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <div class="article-metadata search-hit-type">{{relpermalink}}</div>
          <a href="{{relpermalink}}">{{title}}</a>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
    </div>
  </script>
  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.2.1/fuse.min.js" integrity="sha512-o38bmzBGX+hD3JHWUFCDA09btWaqrNmoJ3RXLlrysA7PP01Kgs4UlE4MhelE1v5dJR3+cxlR4qQlotsW7jKsnw==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha512-mhbv5DqBMgrWL+32MmsDOt/OAvqr/cHimk6B8y/bx/xS88MVkYGPiVv2ixKVrkywF2qHplNRUvFsAHUdxZ3Krg==" crossorigin="anonymous"></script>
  












  
  
  
  
  
  
  







<script id="page-data" type="application/json">{"use_headroom":false}</script>










  
  


<script src="/zh/js/wowchemy.min.a04788cdfce708339d31c0685377d64e.js"></script>







  
<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">引用</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <pre><code class="tex hljs"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-outline-primary my-1 js-copy-cite" href="#" target="_blank">
          <i class="fas fa-copy"></i> 复制
        </a>
        <a class="btn btn-outline-primary my-1 js-download-cite" href="#" target="_blank">
          <i class="fas fa-download"></i> 下载
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

  <script src="/js/wowchemy-publication.af9327db0521d4a01354bfc8b77a4324.js" type="module"></script>
<script>

var mybutton = document.getElementById("backTopBtn");


window.onscroll = function() {scrollFunction()};

function scrollFunction() {
  if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
    mybutton.style.display = "block";
  } else {
    mybutton.style.display = "none";
  }
}


function topFunction() {
  document.body.scrollTop = 0;
  document.documentElement.scrollTop = 0;
}
</script>






<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.2.2/anchor.min.js" integrity="sha512-I7w3ZdSFzw5j3jU3ZkNikBNeIrl3i+hEuEdwNmqUJvwNcaBUNcijnP2gd9DtGlgVYDplfjGoD8vTNsID+lCjqg==" crossorigin="anonymous"></script>
<script>
  anchors.add();
</script>



<script>



(function() {
  'use strict';

  if(!document.queryCommandSupported('copy')) {
    return;
  }

  function flashCopyMessage(el, msg) {
    el.className = "highlight-copy-btn";
    el.textContent = msg;
    setTimeout(function() {
      el.textContent = "";
      el.className = "highlight-copy-btn fa fa-copy";
    }, 1000);
  }

  function selectText(node) {
    var selection = window.getSelection();
    var range = document.createRange();
    range.selectNodeContents(node);
    selection.removeAllRanges();
    selection.addRange(range);
    return selection;
  }

  function addCopyButton(containerEl) {
    var copyBtn = document.createElement("button");
    copyBtn.className = "highlight-copy-btn fa fa-copy";
    copyBtn.textContent = "";

    var codeEl = containerEl.firstElementChild;
    copyBtn.addEventListener('click', function() {
      try {
        var selection = selectText(codeEl);
        document.execCommand('copy');
        selection.removeAllRanges();
        
        flashCopyMessage(copyBtn, '已复制')
        
      } catch(e) {
        console && console.log(e);
        flashCopyMessage(copyBtn, 'Failed :\'(')
      }
    });

    containerEl.appendChild(copyBtn);
  }

  
  var highlightBlocks = document.getElementsByClassName('highlight');
  Array.prototype.forEach.call(highlightBlocks, addCopyButton);
})();
</script>



<script>

function Collapse(e){
  var node = document.getElementById(e);
  if (node.className.indexOf('fa-angle-down') > -1){
    node.setAttribute("class", "fa-solid fa-angle-right");
    }else{
    node.setAttribute("class", "fa-solid fa-angle-down");
    }
}
</script>


</body>
</html>
