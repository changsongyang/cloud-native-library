<!DOCTYPE html><html lang="zh" >


<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  
  
  
    <meta name="generator" content="Wowchemy 5.5.0 for Hugo" />
  

  
  










  







  
  
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  

  
  
  
    
      
      <link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap">
      <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap" media="print" onload="this.media='all'">
    
  

  
    <meta name="google-site-verification" content="google69a5cccb61297807" />
    <meta name="baidu-site-verification" content="cqmZHEleVh" />
  
  
  
  
    
    
    
  
  

  <meta name="author" content="宋净超" />

  
  
  
    
  
  <meta name="description" content="IAM APIs for authentication.
OAuth Token rpc Token (tetrateio.api.iam.v2.GrantRequest) returns (tetrateio.api.iam.v2.GrantResponse)
Grants tokens for a given grant type.
This is used by clients to obtain an access token by presenting required parameters for the requested grant type. Current only &ldquo;urn:ietf:params:oauth:grant-type:device_code&rdquo; is supported. When an error occurs, this will return a 4xx status code with an Error and ErrorMessage in the response.
DeviceCode rpc DeviceCode (tetrateio.api.iam.v2.DeviceCodeRequest) returns (tetrateio.api.iam.v2.DeviceCodeResponse)
Requests device codes that can be used with a token grant with grant type &ldquo;urn:ietf:params:oauth:grant-type:device_code&rdquo;. For additional information please refer to the Device Authorization Grant RFC https://datatracker.ietf.org/doc/html/rfc8628
DeviceCodeResponse Response with device codes for use with the Device Authorization flow." />

  
  <link rel="alternate" hreflang="zh" href="https://lib.jimmysong.io/tsb/refs/iam/v2/oauth-service/" />

  
  
  
    <meta name="theme-color" content="#0a55a7" />
  

  
  

  

  <link rel="stylesheet" href="/css/vendor-bundle.min.c7b8d9abd591ba2253ea42747e3ac3f5.css" media="print" onload="this.media='all'">

  
  
  
    
    

    
    
    
    
      
      
    
    
    

    
    
    
      
    
    
      
      
        
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.1/styles/github.min.css" crossorigin="anonymous" title="hl-light" media="print" onload="this.media='all'">
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.1/styles/dracula.min.css" crossorigin="anonymous" title="hl-dark" media="print" onload="this.media='all'" disabled>
        
      
    

    
    
    

    

    
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      
        
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
  

  
  
  
  
  
  <link rel="stylesheet" href="/css/wowchemy.2c25b2854625561177dfe556e1065970.css" />

  




<script async src="https://www.googletagmanager.com/gtag/js?id=G-MP490FS739"></script>

<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', "G-MP490FS739");
</script>


  


  


  


  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?2a4b7f65b1839466beaa48d633aa60c1";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>



  
  
  

  

  
    <link rel="manifest" href="/manifest.webmanifest" />
  

  <link rel="icon" type="image/png" href="/media/icon_hud79519197c2c386463324871b321d647_6772_32x32_fill_lanczos_center_3.png" />
  <link rel="apple-touch-icon" type="image/png" href="/media/icon_hud79519197c2c386463324871b321d647_6772_180x180_fill_lanczos_center_3.png" />

  <link rel="canonical" href="https://lib.jimmysong.io/tsb/refs/iam/v2/oauth-service/" />

  
  
  
  
  
  
  
  
    
  
  

  
  
    
    
  
  <meta property="twitter:card" content="summary_large_image" />
  
    <meta property="twitter:site" content="@jimmysongio" />
    <meta property="twitter:creator" content="@jimmysongio" />
  
  <meta property="og:site_name" content="云原生资料库" />
  <meta property="og:url" content="https://lib.jimmysong.io/tsb/refs/iam/v2/oauth-service/" />
  <meta property="og:title" content="IAM (OAuth) | 云原生资料库" />
  <meta property="og:description" content="IAM APIs for authentication.
OAuth Token rpc Token (tetrateio.api.iam.v2.GrantRequest) returns (tetrateio.api.iam.v2.GrantResponse)
Grants tokens for a given grant type.
This is used by clients to obtain an access token by presenting required parameters for the requested grant type. Current only &ldquo;urn:ietf:params:oauth:grant-type:device_code&rdquo; is supported. When an error occurs, this will return a 4xx status code with an Error and ErrorMessage in the response.
DeviceCode rpc DeviceCode (tetrateio.api.iam.v2.DeviceCodeRequest) returns (tetrateio.api.iam.v2.DeviceCodeResponse)
Requests device codes that can be used with a token grant with grant type &ldquo;urn:ietf:params:oauth:grant-type:device_code&rdquo;. For additional information please refer to the Device Authorization Grant RFC https://datatracker.ietf.org/doc/html/rfc8628
DeviceCodeResponse Response with device codes for use with the Device Authorization flow." /><meta property="og:image" content="https://lib.jimmysong.io/media/sharing.png" />
    <meta property="twitter:image" content="https://lib.jimmysong.io/media/sharing.png" /><meta property="og:locale" content="zh" />
  
    
      <meta
        property="article:published_time"
        content="2023-08-09T12:00:00&#43;08:00"
      />
    
    <meta property="article:modified_time" content="2024-03-06T15:17:26&#43;08:00">
  

  



  

  

  





  <title>IAM (OAuth) | 云原生资料库</title>
</head>


<body id="top" data-spy="scroll" data-offset="70" data-target="#TableOfContents" class="page-wrapper   " >
  <button onclick="topFunction()" id="backTopBtn" title="Go to top"><i class="fa-solid fa-circle-up" aria-hidden="true"></i></button>
  
  
  
  
  
  
  
  
  
  <script src="/js/wowchemy-init.min.62d6f8dfe8493f1c68557dde65bec362.js"></script>

  


<aside class="search-modal" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6 search-title">
          <p>搜索</p>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#" aria-label="关闭"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        
        <input name="q" id="search-query" placeholder="搜索..." autocapitalize="off"
        autocomplete="off" autocorrect="off" spellcheck="false" type="search" class="form-control"
        aria-label="搜索...">
        
      </div>

      
      

      
    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>

      <div id="search-common-queries">
        
      </div>

    </section>
  </div>
</aside>



  <div class="page-header">
    











  


<header class="header--fixed">
  <nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id="navbar-main">
    <div class="container-xl">

      
      <div class="d-none d-lg-inline-flex">
        <a class="navbar-brand" href="/"><img src="/media/logo.svg" alt="云原生资料库"
            
            ></a>
      </div>
      

      
      <button type="button" class="navbar-toggler" data-toggle="collapse"
              data-target="#navbar-content" aria-controls="navbar-content" aria-expanded="false" aria-label="切换导航">
      <span><i class="fas fa-bars"></i></span>
      </button>
      

      
      <div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none">
        <a class="navbar-brand" href="/"><img src="/media/logo.svg" alt="云原生资料库"
          
          ></a>
      </div>
      

      
      
      <div class="navbar-collapse main-menu-item collapse justify-content-start" id="navbar-content">

        
        <ul class="navbar-nav d-md-inline-flex">
          

          

          
          
          
            
          

          

          
          
          
          

          
            
              
              
            
            
              
              
              
                
              
              
            
          

          <li class="nav-item">
            <a class="nav-link " href="/#books"><span>图书</span></a>
          </li>

          
          

          
          <li class="nav-item dropdown">
            <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" aria-haspopup="true"><span>教程</span><span class="caret"></span>
            </a>
            <div class="dropdown-menu">
              
                <a class="dropdown-item" href="/kubernetes-handbook"><span>Kubernetes 基础教程</span></a>
              
                <a class="dropdown-item" href="https://academy.tetrate.io/courses/istio-fundamentals-zh"><span>Istio 基础教程</span></a>
              
                <a class="dropdown-item" href="https://academy.tetrate.io/courses/envoy-fundamentals-zh"><span>Envoy 基础教程</span></a>
              
            </div>
          </li>

          
          

          

          
          
          
            
              
            
          

          

          
          
          
          

          
            
              
              
            
            
          

          <li class="nav-item">
            <a class="nav-link " href="https://jimmysong.io/blog/" target="_blank" rel="noopener"><span>博客</span></a>
          </li>

          
          

          

          
          
          
            
              
            
          

          

          
          
          
          

          
            
              
              
            
            
          

          <li class="nav-item">
            <a class="nav-link " href="https://cloudnative.to/" target="_blank" rel="noopener"><span>社区</span></a>
          </li>

          
          

          

          
          
          
            
          

          

          
          
          
          

          
            
              
              
            
            
              
              
              
                
              
              
            
          

          <li class="nav-item">
            <a class="nav-link " href="/#tags"><span>标签</span></a>
          </li>

          
          

          

          
          
          
            
          

          

          
          
          
          

          
            
              
              
            
            
              
              
              
                
              
              
            
          

          <li class="nav-item">
            <a class="nav-link " href="/#about"><span>关于</span></a>
          </li>

          
          

        

          
        </ul>
      </div>

      <ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2">

        
        
          
            
            <li class="nav-item d-none d-lg-inline-flex">
              <a class="nav-link" href="https://jimmysong.io/contact/" data-toggle="tooltip" data-placement="bottom" title="联系" target="_blank" rel="noopener" aria-label="联系">
                <i class="fab fa-weixin" aria-hidden="true"></i>
              </a>
            </li>
          
            
            <li class="nav-item d-none d-lg-inline-flex">
              <a class="nav-link" href="https://twitter.com/jimmysongio" data-toggle="tooltip" data-placement="bottom" title="关注" target="_blank" rel="noopener" aria-label="关注">
                <i class="fab fa-twitter" aria-hidden="true"></i>
              </a>
            </li>
          
        

        
        <li class="nav-item">
            <a class="nav-link" href="https://jimmysong.io" target="_blank" rel="noopener" data-toggle="tooltip" data-placement="bottom" title="首页" aria-label="首页"><i class="fas fa-home" aria-hidden="true"></i></a>
        </li>
        

        
        
        <li class="nav-item">
            <a class="nav-link js-search" href="#" data-toggle="tooltip" data-placement="bottom" title="搜索" aria-label="搜索"><i class="fas fa-search" aria-hidden="true"></i></a>
        </li>
        

        
        

        
        
        
        <li class="nav-item">
          <a href="#" class="nav-link set-theme">
            <i class="fa fa-sun" aria-hidden="true" id="theme-icon"></i>
          </a>
        </li>
        

        
        

      </ul>

    </div>
  </nav>
</header>


  </div>

  <div class="page-body">
    
    
    

    




<div class="container-xl docs">
  <div class="row flex-xl-nowrap">
    <div class="docs-sidebar">
      <form class="docs-search d-flex align-items-center">
  <button class="btn docs-toggle d-md-none p-0 mr-md-3 w-100" type="button" data-toggle="collapse" data-target="#docs-nav" aria-controls="docs-nav" aria-expanded="false" aria-label="Toggle section navigation">
    <div class="d-flex">
      <span class="d-md-none pl-1 flex-grow-1 text-left overflow-hidden">
        
          iam
        
      </span>
      <span><i class="fas fa-chevron-down"></i></span>
    </div>
  </button>

  
  <button class="form-control sidebar-search js-search d-none d-md-flex">
    <i class="fas fa-search pr-2"></i>
    <span class="sidebar-search-text">搜索...</span>
    <span class="sidebar-search-shortcut">/</span>
  </button>
  
</form>

<nav class="collapse docs-links" id="docs-nav">
  
  
  
  
  
  

  
  
    

    
      

      
  
</nav>

    </div>

    
    
    <div class="d-none d-xl-block col-xl-2 docs-toc">
      
     
      <ul class="nav toc-top">
        <li><a href="#" id="back_to_top" class="docs-toc-title">目录</a></li>
      </ul>
     

      <nav id="TableOfContents">
  <ul>
    <li><a href="#tetrateio-api-iam-v2-oauth">OAuth</a>
      <ul>
        <li><a href="#token">Token</a></li>
        <li><a href="#devicecode">DeviceCode</a></li>
      </ul>
    </li>
    <li><a href="#tetrateio-api-iam-v2-devicecoderesponse">DeviceCodeResponse</a></li>
    <li><a href="#tetrateio-api-iam-v2-grantrequest">GrantRequest</a></li>
    <li><a href="#tetrateio-api-iam-v2-grantresponse">GrantResponse</a></li>
    <li><a href="#tetrateio-api-iam-v2-error">Error</a></li>
    <li><a href="#tetrateio-api-iam-v2-granttype">GrantType</a></li>
    <li><a href="#tetrateio-api-iam-v2-tokentype">TokenType</a></li>
  </ul>
</nav>

      

    </div>
    

    <main class="py-md-3 pl-md-3 docs-content col-xl-8" role="main">

      <article class="article">

          
            
  <nav class="d-none d-md-flex" aria-label="breadcrumb">
    <ol class="breadcrumb">
      
  
    
  
    
  
    
  
    
  

    <li class="breadcrumb-item">
      <a href="/">
        
          首页
        
      </a>
    </li>
  

    <li class="breadcrumb-item">
      <a href="/tsb/">
        
          TSB 手册
        
      </a>
    </li>
  

    <li class="breadcrumb-item">
      <a href="/tsb/refs/">
        
          API
        
      </a>
    </li>
  

    <li class="breadcrumb-item">
      <a href="/tsb/refs/iam/">
        
          iam
        
      </a>
    </li>
  

      <li class="breadcrumb-item active" aria-current="page">
        IAM (OAuth)
      </li>
    </ol>
  </nav>




          

          <h1>IAM (OAuth)</h1>

          <div class="article-style">
            <!-- WARNING: This page is generated. Please take a look at extensions/plugin-service-bridge-api-docs/src/files/doc/page.ejs -->
<p>IAM APIs for authentication.</p>
<h2 id="tetrateio-api-iam-v2-oauth">OAuth</h2>
<h3 id="token">Token</h3>
<PanelContent>
<PanelContentCode>
<p>rpc Token (<a href="../../iam/v2/oauth_service#tetrateio-api-iam-v2-grantrequest">tetrateio.api.iam.v2.GrantRequest</a>) returns (<a href="../../iam/v2/oauth_service#tetrateio-api-iam-v2-grantresponse">tetrateio.api.iam.v2.GrantResponse</a>)</p>
</PanelContentCode>
<p>Grants tokens for a given grant type.</p>
<p>This is used by clients to obtain an access token by presenting required parameters for the requested grant type.
Current only &ldquo;urn:ietf:params:oauth:grant-type:device_code&rdquo; is supported.
When an error occurs, this will return a 4xx status code with an Error and ErrorMessage in the response.</p>
</PanelContent>
<h3 id="devicecode">DeviceCode</h3>
<PanelContent>
<PanelContentCode>
<p>rpc DeviceCode (<a href="../../iam/v2/oauth_service#tetrateio-api-iam-v2-devicecoderequest">tetrateio.api.iam.v2.DeviceCodeRequest</a>) returns (<a href="../../iam/v2/oauth_service#tetrateio-api-iam-v2-devicecoderesponse">tetrateio.api.iam.v2.DeviceCodeResponse</a>)</p>
</PanelContentCode>
<p>Requests device codes that can be used with a token grant with grant type &ldquo;urn:ietf:params:oauth:grant-type:device_code&rdquo;.
For additional information please refer to the Device Authorization Grant RFC
<a href="https://datatracker.ietf.org/doc/html/rfc8628" target="_blank" rel="noopener">https://datatracker.ietf.org/doc/html/rfc8628</a></p>
</PanelContent>
<h2 id="tetrateio-api-iam-v2-devicecoderesponse">DeviceCodeResponse</h2>
<p>Response with device codes for use with the Device Authorization flow.
For additional information on the response parameters please refer to the Device Authorization Response section
of the RFC <a href="https://datatracker.ietf.org/doc/html/rfc8628#section-3.2" target="_blank" rel="noopener">https://datatracker.ietf.org/doc/html/rfc8628#section-3.2</a></p>
<div class="generated-table"></div>
<table>
<thead>
<tr>
<th>Field</th>
<th class="description">Description</th>
<th>Validation Rule</th>
</tr>
</thead>
<tr>
<td>
<p>deviceCode</p>
</td>
<td>
<p><a href="https://developers.google.com/protocol-buffers/docs/proto3#scalar" target="_blank" rel="noopener">string</a> <br/> Code that the device uses to poll for tokens</p>
</td>
<td>
<p>–</p>
</td>
</tr>
<tr>
<td>
<p>userCode</p>
</td>
<td>
<p><a href="https://developers.google.com/protocol-buffers/docs/proto3#scalar" target="_blank" rel="noopener">string</a> <br/> Code the user enters in the verification URI</p>
</td>
<td>
<p>–</p>
</td>
</tr>
<tr>
<td>
<p>verificationUri</p>
</td>
<td>
<p><a href="https://developers.google.com/protocol-buffers/docs/proto3#scalar" target="_blank" rel="noopener">string</a> <br/> URI where to enter the user code</p>
</td>
<td>
<p>–</p>
</td>
</tr>
<tr>
<td>
<p>interval</p>
</td>
<td>
<p><a href="https://developers.google.com/protocol-buffers/docs/proto3#scalar" target="_blank" rel="noopener">int32</a> <br/> Rate in which to poll the token endpoint with the device code</p>
</td>
<td>
<p>–</p>
</td>
</tr>
<tr>
<td>
<p>expiresIn</p>
</td>
<td>
<p><a href="https://developers.google.com/protocol-buffers/docs/proto3#scalar" target="_blank" rel="noopener">int32</a> <br/> Expiration time of the device code in seconds</p>
</td>
<td>
<p>–</p>
</td>
</tr>
<tr>
<td>
<p>error</p>
</td>
<td>
<p><a href="../../iam/v2/oauth_service#tetrateio-api-iam-v2-error">tetrateio.api.iam.v2.Error</a> <br/> Optional error code presented when an error or validation check failed.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
<tr>
<td>
<p>errorMessage</p>
</td>
<td>
<p><a href="https://developers.google.com/protocol-buffers/docs/proto3#scalar" target="_blank" rel="noopener">string</a> <br/> Optional error message that contains more details about the error that occurred.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
</table>
<h2 id="tetrateio-api-iam-v2-grantrequest">GrantRequest</h2>
<p>Token grant request.</p>
<div class="generated-table"></div>
<table>
<thead>
<tr>
<th>Field</th>
<th class="description">Description</th>
<th>Validation Rule</th>
</tr>
</thead>
<tr>
<td>
<p>grantType</p>
</td>
<td>
<p><a href="../../iam/v2/oauth_service#tetrateio-api-iam-v2-granttype">tetrateio.api.iam.v2.GrantType</a> <br/> <em>REQUIRED</em> <br/> Token grant type as specified in the OAuth2 specification.
Current supported grant types are &ldquo;urn:ietf:params:oauth:grant-type:device_code&rdquo; and &ldquo;refresh_token&rdquo;</p>
</td>
<td>
<p>enum = {<br/>  defined_only: <code>true</code><br/>}<br/></p>
</td>
</tr>
<tr>
<td>
<p>deviceCode</p>
</td>
<td>
<p><a href="https://developers.google.com/protocol-buffers/docs/proto3#scalar" target="_blank" rel="noopener">string</a> <br/> <em>OPTIONAL</em> <br/> Device code issued by the device authorization code endpoint when device code grant is used.
This field is required when using a device_code grant.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
<tr>
<td>
<p>refreshToken</p>
</td>
<td>
<p><a href="https://developers.google.com/protocol-buffers/docs/proto3#scalar" target="_blank" rel="noopener">string</a> <br/> <em>OPTIONAL</em> <br/> Refresh token issued from a previous grant request.
This field is required when using a refresh_token grant.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
<tr>
<td>
<p>scope</p>
</td>
<td>
<p>List of <a href="https://developers.google.com/protocol-buffers/docs/proto3#scalar" target="_blank" rel="noopener">string</a> <br/> <em>OPTIONAL</em> <br/> List of requested scopes. This is a list that can include any of the scopes
that are allowed by the client configuration. For refresh_token grants, this list
may not include any scopes that were not part of the original token request.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
<tr>
<td>
<p>clientId</p>
</td>
<td>
<p><a href="https://developers.google.com/protocol-buffers/docs/proto3#scalar" target="_blank" rel="noopener">string</a> <br/> <em>OPTIONAL</em> <br/> Client ID for which the token grant request is being made.
This is optional and when absent, TSB will use an appropriate client ID from configuration
for the grant type being request.
For a refresh grant type, this parameter may be required to ensure the appropriate client
configuration is used.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
<tr>
<td>
<p>resource</p>
</td>
<td>
<p><a href="https://developers.google.com/protocol-buffers/docs/proto3#scalar" target="_blank" rel="noopener">string</a> <br/> <em>OPTIONAL</em> <br/> A URI that indicates the target service or resource where the client intends to use the requested token.
This is used with the token exchange grant and should be the URI of TSB.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
<tr>
<td>
<p>subjectToken</p>
</td>
<td>
<p><a href="https://developers.google.com/protocol-buffers/docs/proto3#scalar" target="_blank" rel="noopener">string</a> <br/> <em>OPTIONAL</em> <br/> A token that represents the identity of the party on behalf of whom the request is being made.
This is used with the token exchange grant and should be either an ID Token or Access Token from the configured
offline token grant client.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
<tr>
<td>
<p>subjectTokenType</p>
</td>
<td>
<p><a href="../../iam/v2/oauth_service#tetrateio-api-iam-v2-tokentype">tetrateio.api.iam.v2.TokenType</a> <br/> <em>OPTIONAL</em> <br/> An identifier that indicates the type of the security token in the &ldquo;subject_token&rdquo; parameter.
This is used with the token exchange grant.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
</table>
<h2 id="tetrateio-api-iam-v2-grantresponse">GrantResponse</h2>
<p>Token grant response.</p>
<div class="generated-table"></div>
<table>
<thead>
<tr>
<th>Field</th>
<th class="description">Description</th>
<th>Validation Rule</th>
</tr>
</thead>
<tr>
<td>
<p>accessToken</p>
</td>
<td>
<p><a href="https://developers.google.com/protocol-buffers/docs/proto3#scalar" target="_blank" rel="noopener">string</a> <br/> Access token issued by the authorization server.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
<tr>
<td>
<p>tokenType</p>
</td>
<td>
<p><a href="https://developers.google.com/protocol-buffers/docs/proto3#scalar" target="_blank" rel="noopener">string</a> <br/> Access token type such as &ldquo;bearer&rdquo; or &ldquo;mac&rdquo;.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
<tr>
<td>
<p>expiresIn</p>
</td>
<td>
<p><a href="https://developers.google.com/protocol-buffers/docs/proto3#scalar" target="_blank" rel="noopener">int32</a> <br/> Expiration time of the access token in seconds.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
<tr>
<td>
<p>refreshToken</p>
</td>
<td>
<p><a href="https://developers.google.com/protocol-buffers/docs/proto3#scalar" target="_blank" rel="noopener">string</a> <br/> Optional refresh token issued when the authorization server
and client are configured to use refresh tokens.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
<tr>
<td>
<p>clientId</p>
</td>
<td>
<p><a href="https://developers.google.com/protocol-buffers/docs/proto3#scalar" target="_blank" rel="noopener">string</a> <br/> Optional client ID used during the grant process.
When present the client ID for subsequent refresh grant calls.
While not a standard field on an OAuth grant response, this helps remove ambiguity
when multiple OIDC configurations are present in TSB.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
<tr>
<td>
<p>error</p>
</td>
<td>
<p><a href="../../iam/v2/oauth_service#tetrateio-api-iam-v2-error">tetrateio.api.iam.v2.Error</a> <br/> Optional error code presented when an error or validation check failed.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
<tr>
<td>
<p>errorMessage</p>
</td>
<td>
<p><a href="https://developers.google.com/protocol-buffers/docs/proto3#scalar" target="_blank" rel="noopener">string</a> <br/> Optional error message that contains more details about the error that occurred.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
</table>
<h2 id="tetrateio-api-iam-v2-error">Error</h2>
<p>OAuth2 error codes</p>
<div class="generated-table"></div>
<table>
<thead>
<tr>
<th>Field</th>
<th>Number</th>
<th class="description">Description</th>
</tr>
</thead>
<tr>
<td>
<p>NO_ERROR</p>
</td>
<td>
<p>0</p>
</td>
<td>
</td>
</tr>
<tr>
<td>
<p>INVALID_REQUEST</p>
</td>
<td>
<p>1</p>
</td>
<td>
</td>
</tr>
<tr>
<td>
<p>INVALID_CLIENT</p>
</td>
<td>
<p>2</p>
</td>
<td>
</td>
</tr>
<tr>
<td>
<p>INVALID_GRANT</p>
</td>
<td>
<p>3</p>
</td>
<td>
</td>
</tr>
<tr>
<td>
<p>UNAUTHORIZED_CLIENT</p>
</td>
<td>
<p>4</p>
</td>
<td>
</td>
</tr>
<tr>
<td>
<p>UNSUPPORTED_GRANT_TYPE</p>
</td>
<td>
<p>5</p>
</td>
<td>
</td>
</tr>
<tr>
<td>
<p>AUTHORIZATION_PENDING</p>
</td>
<td>
<p>6</p>
</td>
<td>
</td>
</tr>
<tr>
<td>
<p>SLOW_DOWN</p>
</td>
<td>
<p>7</p>
</td>
<td>
</td>
</tr>
<tr>
<td>
<p>ACCESS_DENIED</p>
</td>
<td>
<p>8</p>
</td>
<td>
</td>
</tr>
<tr>
<td>
<p>EXPIRED_TOKEN</p>
</td>
<td>
<p>9</p>
</td>
<td>
</td>
</tr>
<tr>
<td>
<p>SERVER_ERROR</p>
</td>
<td>
<p>10</p>
</td>
<td>
</td>
</tr>
</table>
<h2 id="tetrateio-api-iam-v2-granttype">GrantType</h2>
<p>OAuth2 grant types that are currently supported.</p>
<div class="generated-table"></div>
<table>
<thead>
<tr>
<th>Field</th>
<th>Number</th>
<th class="description">Description</th>
</tr>
</thead>
<tr>
<td>
<p>UNSPECIFIED</p>
</td>
<td>
<p>0</p>
</td>
<td>
</td>
</tr>
<tr>
<td>
<p>REFRESH_TOKEN</p>
</td>
<td>
<p>1</p>
</td>
<td>
</td>
</tr>
<tr>
<td>
<p>DEVICE_CODE_URN</p>
</td>
<td>
<p>2</p>
</td>
<td>
</td>
</tr>
<tr>
<td>
<p>CLIENT_CREDENTIALS</p>
</td>
<td>
<p>3</p>
</td>
<td>
</td>
</tr>
<tr>
<td>
<p>TOKEN_EXCHANGE</p>
</td>
<td>
<p>4</p>
</td>
<td>
</td>
</tr>
</table>
<h2 id="tetrateio-api-iam-v2-tokentype">TokenType</h2>
<div class="generated-table"></div>
<table>
<thead>
<tr>
<th>Field</th>
<th>Number</th>
<th class="description">Description</th>
</tr>
</thead>
<tr>
<td>
<p>TOKEN_TYPE_UNSPECIFIED</p>
</td>
<td>
<p>0</p>
</td>
<td>
</td>
</tr>
<tr>
<td>
<p>TOKEN_TYPE_ACCESS_TOKEN</p>
</td>
<td>
<p>1</p>
</td>
<td>
</td>
</tr>
<tr>
<td>
<p>TOKEN_TYPE_REFRESH_TOKEN</p>
</td>
<td>
<p>2</p>
</td>
<td>
</td>
</tr>
<tr>
<td>
<p>TOKEN_TYPE_ID_TOKEN</p>
</td>
<td>
<p>3</p>
</td>
<td>
</td>
</tr>
<tr>
<td>
<p>TOKEN_TYPE_JWT</p>
</td>
<td>
<p>4</p>
</td>
<td>
</td>
</tr>
</table>

          </div>

          

<div class="article-tags">
  
  <a class="badge badge-light" href="/tag/tsb/">TSB</a>
  
</div>



          
          
          <div class="article-widget">
            
<div class="container-xl row post-nav">
  
  
  
  <a class="col-6 post-nav-item btn btn-lg mb-md-1"  href="/tsb/refs/iam/v2/oidc-service/" rel="prev">
    <div class="meta-nav">下一页</div>
    <p>IAM (OIDC)</p></a>
  
</div>

          </div>
          

        <div class="body-footer">
          <p>最近更新于 2024-03-06</p>

          





  

<p class="edit-page">
  <a href="https://github.com/rootsongjc/cloud-native-library//edit/master/content/tsb/refs/iam/v2/oauth-service.md">
    <i class="fas fa-pen pr-2"></i>编辑本页
  </a>
</p>



          




          


        </div>

      </article>

      <footer class="site-footer">

  



  

  
  <div class="copyright py-4 bg-footer">
      <div class="row justify-content-center">
        <div class="text-center footer-color">
          <p class="mb-0">© 2017-2024 jimmysong.io all rights reserved</p>
        </div>
    </div>
  </div>

</footer>


    </main>
  </div>
</div>

  </div>

  <div class="page-footer">
    
    
  </div>

  


<script src="/js/vendor-bundle.min.5b2c48a98fb93f10e8d01cff2874cdf3.js"></script>




  

  
  

  

  
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.1/highlight.min.js" integrity="sha512-Ypjm0o7jOxAd4hpdoppSEN0TQOC19UtPAqD+4s5AlXmUvbmmS/YMxYqAqarQYyxTnB6/rqip9qcxlNB/3U9Wdg==" crossorigin="anonymous"></script>
    
    
  










  
  <script id="search-hit-fuse-template" type="text/x-template">
    <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <div class="article-metadata search-hit-type">{{relpermalink}}</div>
          <a href="{{relpermalink}}">{{title}}</a>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
    </div>
  </script>
  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.2.1/fuse.min.js" integrity="sha512-o38bmzBGX+hD3JHWUFCDA09btWaqrNmoJ3RXLlrysA7PP01Kgs4UlE4MhelE1v5dJR3+cxlR4qQlotsW7jKsnw==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha512-mhbv5DqBMgrWL+32MmsDOt/OAvqr/cHimk6B8y/bx/xS88MVkYGPiVv2ixKVrkywF2qHplNRUvFsAHUdxZ3Krg==" crossorigin="anonymous"></script>
  












  
  
  
  
  
  
  







<script id="page-data" type="application/json">{"use_headroom":false}</script>










  
  


<script src="/zh/js/wowchemy.min.a04788cdfce708339d31c0685377d64e.js"></script>







  
<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">引用</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <pre><code class="tex hljs"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-outline-primary my-1 js-copy-cite" href="#" target="_blank">
          <i class="fas fa-copy"></i> 复制
        </a>
        <a class="btn btn-outline-primary my-1 js-download-cite" href="#" target="_blank">
          <i class="fas fa-download"></i> 下载
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

  <script src="/js/wowchemy-publication.af9327db0521d4a01354bfc8b77a4324.js" type="module"></script>
<script>

var mybutton = document.getElementById("backTopBtn");


window.onscroll = function() {scrollFunction()};

function scrollFunction() {
  if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
    mybutton.style.display = "block";
  } else {
    mybutton.style.display = "none";
  }
}


function topFunction() {
  document.body.scrollTop = 0;
  document.documentElement.scrollTop = 0;
}
</script>






<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.2.2/anchor.min.js" integrity="sha512-I7w3ZdSFzw5j3jU3ZkNikBNeIrl3i+hEuEdwNmqUJvwNcaBUNcijnP2gd9DtGlgVYDplfjGoD8vTNsID+lCjqg==" crossorigin="anonymous"></script>
<script>
  anchors.add();
</script>



<script>



(function() {
  'use strict';

  if(!document.queryCommandSupported('copy')) {
    return;
  }

  function flashCopyMessage(el, msg) {
    el.className = "highlight-copy-btn";
    el.textContent = msg;
    setTimeout(function() {
      el.textContent = "";
      el.className = "highlight-copy-btn fa fa-copy";
    }, 1000);
  }

  function selectText(node) {
    var selection = window.getSelection();
    var range = document.createRange();
    range.selectNodeContents(node);
    selection.removeAllRanges();
    selection.addRange(range);
    return selection;
  }

  function addCopyButton(containerEl) {
    var copyBtn = document.createElement("button");
    copyBtn.className = "highlight-copy-btn fa fa-copy";
    copyBtn.textContent = "";

    var codeEl = containerEl.firstElementChild;
    copyBtn.addEventListener('click', function() {
      try {
        var selection = selectText(codeEl);
        document.execCommand('copy');
        selection.removeAllRanges();
        
        flashCopyMessage(copyBtn, '已复制')
        
      } catch(e) {
        console && console.log(e);
        flashCopyMessage(copyBtn, 'Failed :\'(')
      }
    });

    containerEl.appendChild(copyBtn);
  }

  
  var highlightBlocks = document.getElementsByClassName('highlight');
  Array.prototype.forEach.call(highlightBlocks, addCopyButton);
})();
</script>



<script>

function Collapse(e){
  var node = document.getElementById(e);
  if (node.className.indexOf('fa-angle-down') > -1){
    node.setAttribute("class", "fa-solid fa-angle-right");
    }else{
    node.setAttribute("class", "fa-solid fa-angle-down");
    }
}
</script>


</body>
</html>
