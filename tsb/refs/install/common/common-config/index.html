<!DOCTYPE html><html lang="zh" >


<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  
  
  
    <meta name="generator" content="Wowchemy 5.5.0 for Hugo" />
  

  
  










  







  
  
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  

  
  
  
    
      
      <link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap">
      <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap" media="print" onload="this.media='all'">
    
  

  
    <meta name="google-site-verification" content="google69a5cccb61297807" />
    <meta name="baidu-site-verification" content="cqmZHEleVh" />
  
  
  
  
    
    
    
  
  

  <meta name="author" content="宋净超" />

  
  
  
    
  
  <meta name="description" content="Common configuration objects shared by the different install APIs.
CertManagerSettings CertManagerSettings represents the settings used for the cert-manager installation. TSB supports installing and managing the lifecycle of the cert-manager installation.
Field Description Validation Rule managed
tetrateio.api.install.common.CertManagerSettings.Managed Managed specifies whether TSB should manage the lifecycle of cert-manager.
–
certManagerSpec
tetrateio.api.install.common.CertManagerSettings.CertManagerSpec Configure kubernetes specific settings for cert-manager.
–
certManagerWebhookSpec
tetrateio.api.install.common.CertManagerSettings.CertManagerWebhookSpec Configure kubernetes specific settings for cert-manager-webhook.
–
certManagerCaInjector
tetrateio.api.install.common.CertManagerSettings.CertManagerCAInjector Configure kubernetes specific settings for cert-manager-cainjector.
–
certManagerStartupapicheck
tetrateio.api.install.common.CertManagerSettings.CertManagerStartupAPICheck Configure kubernetes specific settings for cert-manager-startupapicheck. DEPRECATED. Startup API Check is disabled.
–
CertManagerCAInjector CertManagerCAInjector represents the settings used for cert-manager CAInjector installation in the clusters." />

  
  <link rel="alternate" hreflang="zh" href="https://lib.jimmysong.io/tsb/refs/install/common/common-config/" />

  
  
  
    <meta name="theme-color" content="#0a55a7" />
  

  
  

  

  <link rel="stylesheet" href="/css/vendor-bundle.min.c7b8d9abd591ba2253ea42747e3ac3f5.css" media="print" onload="this.media='all'">

  
  
  
    
    

    
    
    
    
      
      
    
    
    

    
    
    
      
    
    
      
      
        
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.1/styles/github.min.css" crossorigin="anonymous" title="hl-light" media="print" onload="this.media='all'">
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.1/styles/dracula.min.css" crossorigin="anonymous" title="hl-dark" media="print" onload="this.media='all'" disabled>
        
      
    

    
    
    

    

    
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      
        
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
  

  
  
  
  
  
  <link rel="stylesheet" href="/css/wowchemy.2c25b2854625561177dfe556e1065970.css" />

  




<script async src="https://www.googletagmanager.com/gtag/js?id=G-MP490FS739"></script>

<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', "G-MP490FS739");
</script>


  


  


  


  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?2a4b7f65b1839466beaa48d633aa60c1";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>



  
  
  

  

  
    <link rel="manifest" href="/manifest.webmanifest" />
  

  <link rel="icon" type="image/png" href="/media/icon_hud79519197c2c386463324871b321d647_6772_32x32_fill_lanczos_center_3.png" />
  <link rel="apple-touch-icon" type="image/png" href="/media/icon_hud79519197c2c386463324871b321d647_6772_180x180_fill_lanczos_center_3.png" />

  <link rel="canonical" href="https://lib.jimmysong.io/tsb/refs/install/common/common-config/" />

  
  
  
  
  
  
  
  
    
  
  

  
  
    
    
  
  <meta property="twitter:card" content="summary_large_image" />
  
    <meta property="twitter:site" content="@jimmysongio" />
    <meta property="twitter:creator" content="@jimmysongio" />
  
  <meta property="og:site_name" content="云原生资料库" />
  <meta property="og:url" content="https://lib.jimmysong.io/tsb/refs/install/common/common-config/" />
  <meta property="og:title" content="Common Configuration Objects | 云原生资料库" />
  <meta property="og:description" content="Common configuration objects shared by the different install APIs.
CertManagerSettings CertManagerSettings represents the settings used for the cert-manager installation. TSB supports installing and managing the lifecycle of the cert-manager installation.
Field Description Validation Rule managed
tetrateio.api.install.common.CertManagerSettings.Managed Managed specifies whether TSB should manage the lifecycle of cert-manager.
–
certManagerSpec
tetrateio.api.install.common.CertManagerSettings.CertManagerSpec Configure kubernetes specific settings for cert-manager.
–
certManagerWebhookSpec
tetrateio.api.install.common.CertManagerSettings.CertManagerWebhookSpec Configure kubernetes specific settings for cert-manager-webhook.
–
certManagerCaInjector
tetrateio.api.install.common.CertManagerSettings.CertManagerCAInjector Configure kubernetes specific settings for cert-manager-cainjector.
–
certManagerStartupapicheck
tetrateio.api.install.common.CertManagerSettings.CertManagerStartupAPICheck Configure kubernetes specific settings for cert-manager-startupapicheck. DEPRECATED. Startup API Check is disabled.
–
CertManagerCAInjector CertManagerCAInjector represents the settings used for cert-manager CAInjector installation in the clusters." /><meta property="og:image" content="https://lib.jimmysong.io/media/sharing.png" />
    <meta property="twitter:image" content="https://lib.jimmysong.io/media/sharing.png" /><meta property="og:locale" content="zh" />
  
    
      <meta
        property="article:published_time"
        content="2023-08-09T12:00:00&#43;08:00"
      />
    
    <meta property="article:modified_time" content="2024-03-06T15:17:26&#43;08:00">
  

  



  

  

  





  <title>Common Configuration Objects | 云原生资料库</title>
</head>


<body id="top" data-spy="scroll" data-offset="70" data-target="#TableOfContents" class="page-wrapper   " >
  <button onclick="topFunction()" id="backTopBtn" title="Go to top"><i class="fa-solid fa-circle-up" aria-hidden="true"></i></button>
  
  
  
  
  
  
  
  
  
  <script src="/js/wowchemy-init.min.62d6f8dfe8493f1c68557dde65bec362.js"></script>

  


<aside class="search-modal" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6 search-title">
          <p>搜索</p>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#" aria-label="关闭"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        
        <input name="q" id="search-query" placeholder="搜索..." autocapitalize="off"
        autocomplete="off" autocorrect="off" spellcheck="false" type="search" class="form-control"
        aria-label="搜索...">
        
      </div>

      
      

      
    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>

      <div id="search-common-queries">
        
      </div>

    </section>
  </div>
</aside>



  <div class="page-header">
    











  


<header class="header--fixed">
  <nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id="navbar-main">
    <div class="container-xl">

      
      <div class="d-none d-lg-inline-flex">
        <a class="navbar-brand" href="/"><img src="/media/logo.svg" alt="云原生资料库"
            
            ></a>
      </div>
      

      
      <button type="button" class="navbar-toggler" data-toggle="collapse"
              data-target="#navbar-content" aria-controls="navbar-content" aria-expanded="false" aria-label="切换导航">
      <span><i class="fas fa-bars"></i></span>
      </button>
      

      
      <div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none">
        <a class="navbar-brand" href="/"><img src="/media/logo.svg" alt="云原生资料库"
          
          ></a>
      </div>
      

      
      
      <div class="navbar-collapse main-menu-item collapse justify-content-start" id="navbar-content">

        
        <ul class="navbar-nav d-md-inline-flex">
          

          

          
          
          
            
          

          

          
          
          
          

          
            
              
              
            
            
              
              
              
                
              
              
            
          

          <li class="nav-item">
            <a class="nav-link " href="/#books"><span>图书</span></a>
          </li>

          
          

          
          <li class="nav-item dropdown">
            <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" aria-haspopup="true"><span>教程</span><span class="caret"></span>
            </a>
            <div class="dropdown-menu">
              
                <a class="dropdown-item" href="/kubernetes-handbook"><span>Kubernetes 基础教程</span></a>
              
                <a class="dropdown-item" href="https://academy.tetrate.io/courses/istio-fundamentals-zh"><span>Istio 基础教程</span></a>
              
                <a class="dropdown-item" href="https://academy.tetrate.io/courses/envoy-fundamentals-zh"><span>Envoy 基础教程</span></a>
              
            </div>
          </li>

          
          

          

          
          
          
            
              
            
          

          

          
          
          
          

          
            
              
              
            
            
          

          <li class="nav-item">
            <a class="nav-link " href="https://jimmysong.io/blog/" target="_blank" rel="noopener"><span>博客</span></a>
          </li>

          
          

          

          
          
          
            
              
            
          

          

          
          
          
          

          
            
              
              
            
            
          

          <li class="nav-item">
            <a class="nav-link " href="https://cloudnative.to/" target="_blank" rel="noopener"><span>社区</span></a>
          </li>

          
          

          

          
          
          
            
          

          

          
          
          
          

          
            
              
              
            
            
              
              
              
                
              
              
            
          

          <li class="nav-item">
            <a class="nav-link " href="/#tags"><span>标签</span></a>
          </li>

          
          

          

          
          
          
            
          

          

          
          
          
          

          
            
              
              
            
            
              
              
              
                
              
              
            
          

          <li class="nav-item">
            <a class="nav-link " href="/#about"><span>关于</span></a>
          </li>

          
          

        

          
        </ul>
      </div>

      <ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2">

        
        
          
            
            <li class="nav-item d-none d-lg-inline-flex">
              <a class="nav-link" href="https://jimmysong.io/contact/" data-toggle="tooltip" data-placement="bottom" title="联系" target="_blank" rel="noopener" aria-label="联系">
                <i class="fab fa-weixin" aria-hidden="true"></i>
              </a>
            </li>
          
            
            <li class="nav-item d-none d-lg-inline-flex">
              <a class="nav-link" href="https://twitter.com/jimmysongio" data-toggle="tooltip" data-placement="bottom" title="关注" target="_blank" rel="noopener" aria-label="关注">
                <i class="fab fa-twitter" aria-hidden="true"></i>
              </a>
            </li>
          
        

        
        <li class="nav-item">
            <a class="nav-link" href="https://jimmysong.io" target="_blank" rel="noopener" data-toggle="tooltip" data-placement="bottom" title="首页" aria-label="首页"><i class="fas fa-home" aria-hidden="true"></i></a>
        </li>
        

        
        
        <li class="nav-item">
            <a class="nav-link js-search" href="#" data-toggle="tooltip" data-placement="bottom" title="搜索" aria-label="搜索"><i class="fas fa-search" aria-hidden="true"></i></a>
        </li>
        

        
        

        
        
        
        <li class="nav-item">
          <a href="#" class="nav-link set-theme">
            <i class="fa fa-sun" aria-hidden="true" id="theme-icon"></i>
          </a>
        </li>
        

        
        

      </ul>

    </div>
  </nav>
</header>


  </div>

  <div class="page-body">
    
    
    

    




<div class="container-xl docs">
  <div class="row flex-xl-nowrap">
    <div class="docs-sidebar">
      <form class="docs-search d-flex align-items-center">
  <button class="btn docs-toggle d-md-none p-0 mr-md-3 w-100" type="button" data-toggle="collapse" data-target="#docs-nav" aria-controls="docs-nav" aria-expanded="false" aria-label="Toggle section navigation">
    <div class="d-flex">
      <span class="d-md-none pl-1 flex-grow-1 text-left overflow-hidden">
        
          install
        
      </span>
      <span><i class="fas fa-chevron-down"></i></span>
    </div>
  </button>

  
  <button class="form-control sidebar-search js-search d-none d-md-flex">
    <i class="fas fa-search pr-2"></i>
    <span class="sidebar-search-text">搜索...</span>
    <span class="sidebar-search-shortcut">/</span>
  </button>
  
</form>

<nav class="collapse docs-links" id="docs-nav">
  
  
  
  
  
  

  
  
    

    
      

      
  
</nav>

    </div>

    
    
    <div class="d-none d-xl-block col-xl-2 docs-toc">
      
     
      <ul class="nav toc-top">
        <li><a href="#" id="back_to_top" class="docs-toc-title">目录</a></li>
      </ul>
     

      <nav id="TableOfContents">
  <ul>
    <li><a href="#tetrateio-api-install-common-certmanagersettings">CertManagerSettings</a>
      <ul>
        <li><a href="#tetrateio-api-install-common-certmanagersettings-certmanagercainjector">CertManagerCAInjector</a></li>
        <li><a href="#tetrateio-api-install-common-certmanagersettings-certmanagerspec">CertManagerSpec</a></li>
        <li><a href="#tetrateio-api-install-common-certmanagersettings-certmanagerstartupapicheck">CertManagerStartupAPICheck</a></li>
        <li><a href="#tetrateio-api-install-common-certmanagersettings-certmanagerwebhookspec">CertManagerWebhookSpec</a></li>
      </ul>
    </li>
    <li><a href="#tetrateio-api-install-common-configprotection">ConfigProtection</a></li>
    <li><a href="#tetrateio-api-install-common-customcertprovidersettings">CustomCertProviderSettings</a></li>
    <li><a href="#tetrateio-api-install-common-gitops">GitOps</a></li>
    <li><a href="#tetrateio-api-install-common-internalcertprovider">InternalCertProvider</a></li>
    <li><a href="#tetrateio-api-install-common-meshobservabilitysettings">MeshObservabilitySettings</a>
      <ul>
        <li><a href="#tetrateio-api-install-common-certmanagersettings-managed">Managed</a></li>
      </ul>
    </li>
  </ul>
</nav>

      

    </div>
    

    <main class="py-md-3 pl-md-3 docs-content col-xl-8" role="main">

      <article class="article">

          
            
  <nav class="d-none d-md-flex" aria-label="breadcrumb">
    <ol class="breadcrumb">
      
  
    
  
    
  
    
  
    
  

    <li class="breadcrumb-item">
      <a href="/">
        
          首页
        
      </a>
    </li>
  

    <li class="breadcrumb-item">
      <a href="/tsb/">
        
          TSB 手册
        
      </a>
    </li>
  

    <li class="breadcrumb-item">
      <a href="/tsb/refs/">
        
          API
        
      </a>
    </li>
  

    <li class="breadcrumb-item">
      <a href="/tsb/refs/install/">
        
          install
        
      </a>
    </li>
  

      <li class="breadcrumb-item active" aria-current="page">
        Common Configuration Objects
      </li>
    </ol>
  </nav>




          

          <h1>Common Configuration Objects</h1>

          <div class="article-style">
            <!-- WARNING: This page is generated. Please take a look at extensions/plugin-service-bridge-api-docs/src/files/doc/page.ejs -->
<p>Common configuration objects shared by the different install APIs.</p>
<h2 id="tetrateio-api-install-common-certmanagersettings">CertManagerSettings</h2>
<p>CertManagerSettings represents the settings used for the cert-manager installation. TSB supports installing and managing
the lifecycle of the cert-manager installation.</p>
<div class="generated-table"></div>
<table>
<thead>
<tr>
<th>Field</th>
<th class="description">Description</th>
<th>Validation Rule</th>
</tr>
</thead>
<tr>
<td>
<p>managed</p>
</td>
<td>
<p><a href="../../install/common/common_config#tetrateio-api-install-common-certmanagersettings-managed">tetrateio.api.install.common.CertManagerSettings.Managed</a> <br/> Managed specifies whether TSB should manage the lifecycle of cert-manager.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
<tr>
<td>
<p>certManagerSpec</p>
</td>
<td>
<p><a href="../../install/common/common_config#tetrateio-api-install-common-certmanagersettings-certmanagerspec">tetrateio.api.install.common.CertManagerSettings.CertManagerSpec</a> <br/> Configure kubernetes specific settings for cert-manager.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
<tr>
<td>
<p>certManagerWebhookSpec</p>
</td>
<td>
<p><a href="../../install/common/common_config#tetrateio-api-install-common-certmanagersettings-certmanagerwebhookspec">tetrateio.api.install.common.CertManagerSettings.CertManagerWebhookSpec</a> <br/> Configure kubernetes specific settings for cert-manager-webhook.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
<tr>
<td>
<p>certManagerCaInjector</p>
</td>
<td>
<p><a href="../../install/common/common_config#tetrateio-api-install-common-certmanagersettings-certmanagercainjector">tetrateio.api.install.common.CertManagerSettings.CertManagerCAInjector</a> <br/> Configure kubernetes specific settings for cert-manager-cainjector.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
<tr>
<td>
<p>certManagerStartupapicheck</p>
</td>
<td>
<p><a href="../../install/common/common_config#tetrateio-api-install-common-certmanagersettings-certmanagerstartupapicheck">tetrateio.api.install.common.CertManagerSettings.CertManagerStartupAPICheck</a> <br/> Configure kubernetes specific settings for cert-manager-startupapicheck.
DEPRECATED. Startup API Check is disabled.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
</table>
<h3 id="tetrateio-api-install-common-certmanagersettings-certmanagercainjector">CertManagerCAInjector</h3>
<p>CertManagerCAInjector represents the settings used for cert-manager CAInjector installation in the clusters.</p>
<div class="generated-table"></div>
<table>
<thead>
<tr>
<th>Field</th>
<th class="description">Description</th>
<th>Validation Rule</th>
</tr>
</thead>
<tr>
<td>
<p>kubeSpec</p>
</td>
<td>
<p><a href="../../install/kubernetes/k8s#tetrateio-api-install-kubernetes-kubernetescomponentspec">tetrateio.api.install.kubernetes.KubernetesComponentSpec</a> <br/> Configure kubernetes specific settings for cert-manager-cainjector.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
</table>
<h3 id="tetrateio-api-install-common-certmanagersettings-certmanagerspec">CertManagerSpec</h3>
<p>CertManagerSpec represents the settings used for cert-manager controller installation in the clusters.</p>
<div class="generated-table"></div>
<table>
<thead>
<tr>
<th>Field</th>
<th class="description">Description</th>
<th>Validation Rule</th>
</tr>
</thead>
<tr>
<td>
<p>kubeSpec</p>
</td>
<td>
<p><a href="../../install/kubernetes/k8s#tetrateio-api-install-kubernetes-kubernetescomponentspec">tetrateio.api.install.kubernetes.KubernetesComponentSpec</a> <br/> Configure kubernetes specific settings for cert-manager.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
</table>
<h3 id="tetrateio-api-install-common-certmanagersettings-certmanagerstartupapicheck">CertManagerStartupAPICheck</h3>
<p>CertManagerStartupAPICheck represents the settings used for cert-manager startup API check job installation in the clusters.
DEPRECATED. StartupAPICheck is disabled.</p>
<div class="generated-table"></div>
<table>
<thead>
<tr>
<th>Field</th>
<th class="description">Description</th>
<th>Validation Rule</th>
</tr>
</thead>
<tr>
<td>
<p>kubeSpec</p>
</td>
<td>
<p><a href="../../install/kubernetes/k8s#tetrateio-api-install-kubernetes-kubernetesjobcomponentspec">tetrateio.api.install.kubernetes.KubernetesJobComponentSpec</a> <br/> Configure kubernetes specific settings for cert-manager-startupapicheck.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
</table>
<h3 id="tetrateio-api-install-common-certmanagersettings-certmanagerwebhookspec">CertManagerWebhookSpec</h3>
<p>CertManagerWebhookSpec represents the settings used for cert-manager Webhook installation in the clusters.</p>
<div class="generated-table"></div>
<table>
<thead>
<tr>
<th>Field</th>
<th class="description">Description</th>
<th>Validation Rule</th>
</tr>
</thead>
<tr>
<td>
<p>kubeSpec</p>
</td>
<td>
<p><a href="../../install/kubernetes/k8s#tetrateio-api-install-kubernetes-kubernetescomponentspec">tetrateio.api.install.kubernetes.KubernetesComponentSpec</a> <br/> Configure kubernetes specific settings for cert-manager-webhook.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
</table>
<h2 id="tetrateio-api-install-common-configprotection">ConfigProtection</h2>
<p>ConfigProtection contains settings for enabling/disabling config protection
over XCP created resources.
Config protections are disabled by default.
Example:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">configProtection</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">enableAuthorizedUpdateDeleteOnXcpConfigs</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">enableAuthorizedCreateUpdateDeleteOnXcpConfigs</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">authorizedUsers</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="l">user1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="l">system:serviceaccount:ns1:serviceaccount-1</span><span class="w">
</span></span></span></code></pre></div><div class="generated-table"></div>
<table>
<thead>
<tr>
<th>Field</th>
<th class="description">Description</th>
<th>Validation Rule</th>
</tr>
</thead>
<tr>
<td>
<p>enableAuthorizedUpdateDeleteOnXcpConfigs</p>
</td>
<td>
<p><a href="https://developers.google.com/protocol-buffers/docs/proto3#scalar" target="_blank" rel="noopener">bool</a> <br/> When enabled, no other user or svc account except AuthorizedUsers would be allowed to delete or update
the XCP/Istio API resources created by XCP.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
<tr>
<td>
<p>enableAuthorizedCreateUpdateDeleteOnXcpConfigs</p>
</td>
<td>
<p><a href="https://developers.google.com/protocol-buffers/docs/proto3#scalar" target="_blank" rel="noopener">bool</a> <br/> When enabled, no other user or svc account except AuthorizedUsers would be allowed to create, delete or update
the XCP/Istio API resources. This acts as a superset of the enableAuthorizedUpdateDeleteOnXcpConfigs.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
<tr>
<td>
<p>authorizedUsers</p>
</td>
<td>
<p>List of <a href="https://developers.google.com/protocol-buffers/docs/proto3#scalar" target="_blank" rel="noopener">string</a> <br/> List of usernames of authorized users or svc accounts to create/update/delete XCP configs when config protection is enabled.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
</table>
<h2 id="tetrateio-api-install-common-customcertprovidersettings">CustomCertProviderSettings</h2>
<p>CustomCertProviderSettings represents the settings used for the custom certificate provider. Users can configure the CSR signer
required for certificate signing and point to the CA bundle to be used to validate the certificates.</p>
<div class="generated-table"></div>
<table>
<thead>
<tr>
<th>Field</th>
<th class="description">Description</th>
<th>Validation Rule</th>
</tr>
</thead>
<tr>
<td>
<p>csrSignerName</p>
</td>
<td>
<p><a href="https://developers.google.com/protocol-buffers/docs/proto3#scalar" target="_blank" rel="noopener">string</a> <br/> <em>REQUIRED</em> <br/> Name of Kubernetes CSR signer to be used to sign the CSR request by different TSB components for internal purposes.</p>
</td>
<td>
<p>string = {<br/>  min_len: <code>1</code><br/>}<br/></p>
</td>
</tr>
<tr>
<td>
<p>caBundleSecretName</p>
</td>
<td>
<p><a href="https://developers.google.com/protocol-buffers/docs/proto3#scalar" target="_blank" rel="noopener">string</a> <br/> <em>REQUIRED</em> <br/> Configure the CABundleSecretName to be used to verify the signed CSR request by different TSB components. If not specified,
TSB would use the secret with the name ca-bundle-management-plane in the management plane namespace or ca-bundle-control-plane
in the control plane namespace. The secret should contain the file ca.crt with the cert data.</p>
</td>
<td>
<p>string = {<br/>  min_len: <code>1</code><br/>}<br/></p>
</td>
</tr>
</table>
<h2 id="tetrateio-api-install-common-gitops">GitOps</h2>
<p>The GitOps component configures the features that allow integrating the Management Plane and/or the
Control Plane cluster with Continuous Deployment pipelines.</p>
<div class="generated-table"></div>
<table>
<thead>
<tr>
<th>Field</th>
<th class="description">Description</th>
<th>Validation Rule</th>
</tr>
</thead>
<tr>
<td>
<p>enabled</p>
</td>
<td>
<p><a href="https://developers.google.com/protocol-buffers/docs/proto3#scalar" target="_blank" rel="noopener">bool</a> <br/> The GitOps component is in beta and disabled by default.
If Management and Control Planes are installed in the same cluster, Continuous Deployment Integration
should only be enabled in one of both planes. However, if the GitOps component is enabled in both planes,
only the Control Plane GitOps component will remain enabled. The Management Plane GitOps component
will not be enabled, even though it is explicitly enabled.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
<tr>
<td>
<p>reconcileInterval</p>
</td>
<td>
<p><a href="https://developers.google.com/protocol-buffers/docs/reference/google.protobuf#google.protobuf.Duration" target="_blank" rel="noopener">google.protobuf.Duration</a> <br/> Interval at which the reconcile process will run.
The reconcile process will read all TSB CRs that exist in the cluster and
reapply them to the management plane, to make sure the cluster CRs remain
as the source of truth. Format: 1h/1m/1s/1ms. A value of 0 disables the
reconcile loop. Default: 10m.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
<tr>
<td>
<p>batchWindow</p>
</td>
<td>
<p><a href="https://developers.google.com/protocol-buffers/docs/reference/google.protobuf#google.protobuf.Duration" target="_blank" rel="noopener">google.protobuf.Duration</a> <br/> When configured, all admission requests will be paused for the configured duration.
Once the window interval is closed, all paused admission requests will be sent together
to the Management Plane as a single request.
Batching of requests is disabled by default and should be enabled only if there is high concurrency
and ordering of resources could be an issue. By configuring a batch window the concurrency
and ordering issues may be mitigated, although it will introduce a constant latency to all requests
of the configured time window.
When enabled, it is recommended to use a small value, for example 1 second.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
<tr>
<td>
<p>managementplaneRequestTimeout</p>
</td>
<td>
<p><a href="https://developers.google.com/protocol-buffers/docs/reference/google.protobuf#google.protobuf.Duration" target="_blank" rel="noopener">google.protobuf.Duration</a> <br/> The GitOps component performs operations against the management plane through the k8s webhook.
This allows configuring the duration of each operation in order to fail early if it takes too much.
This value cannot be lower than <code>webhook_timeout</code> due to the request being tied to the ones received
by the k8s webhook.
Format: 1h/1m/1s/1m. Any value &lt;= 0 will be reset to the default value. Default: 25s.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
<tr>
<td>
<p>reconcileRequestTimeout</p>
</td>
<td>
<p><a href="https://developers.google.com/protocol-buffers/docs/reference/google.protobuf#google.protobuf.Duration" target="_blank" rel="noopener">google.protobuf.Duration</a> <br/> The GitOps component performs operations against the management plane internal reconcile loop.
This allows configuring the duration of each operation to fail early if it takes too long.
Format: 1h/1m/1s/1m. Any value &lt;= 0 will be reset to the default value. Default: 2m.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
<tr>
<td>
<p>webhookTimeout</p>
</td>
<td>
<p><a href="https://developers.google.com/protocol-buffers/docs/reference/google.protobuf#google.protobuf.Duration" target="_blank" rel="noopener">google.protobuf.Duration</a> <br/> Timeout that will be set in the k8s gitops webhook resource.
Format: 1h/1m/1s/1m. Default: 30s. Allowed values must be between 0s and 30s.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
</table>
<h2 id="tetrateio-api-install-common-internalcertprovider">InternalCertProvider</h2>
<p>InternalCertProvider describes the certificate provider configuration for TSB internal purposes like kubernetes webhook certificate. TSB supports cert-manager out of the box.</p>
<div class="generated-table"></div>
<table>
<thead>
<tr>
<th>Field</th>
<th class="description">Description</th>
<th>Validation Rule</th>
</tr>
</thead>
<tr>
<td>
<p>certManager</p>
</td>
<td>
<p><a href="../../install/common/common_config#tetrateio-api-install-common-certmanagersettings">tetrateio.api.install.common.CertManagerSettings</a> <em><sup><a href="https://developers.google.com/protocol-buffers/docs/proto3#oneof" target="_blank">oneof</a> internal_cert_provider</sup></em> <br/> Use cert-manager as the internal certificate provider</p>
</td>
<td>
<p>–</p>
</td>
</tr>
<tr>
<td>
<p>custom</p>
</td>
<td>
<p><a href="../../install/common/common_config#tetrateio-api-install-common-customcertprovidersettings">tetrateio.api.install.common.CustomCertProviderSettings</a> <em><sup><a href="https://developers.google.com/protocol-buffers/docs/proto3#oneof" target="_blank">oneof</a> internal_cert_provider</sup></em> <br/> Use a custom certificate provider that accepts Kubernetes CSR</p>
</td>
<td>
<p>–</p>
</td>
</tr>
</table>
<h2 id="tetrateio-api-install-common-meshobservabilitysettings">MeshObservabilitySettings</h2>
<p>Configure mesh observability.
The following examples enable the analysis and generation of RED metrics for each
endpoint of your registered services.</p>
<p>Notice that both, ManagementPlane and ControlPlane, need to be aligned with this configuration.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l">install.tetrate.io/v1alpha1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l">ManagementPlane</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">metadata</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">managementplane</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">spec</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">meshObservability</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">settings</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">apiEndpointMetricsEnabled</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l">install.tetrate.io/v1alpha1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l">ControlPlane</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">metadata</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">controlplane</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l">istio-system</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">spec</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">meshObservability</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">settings</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">apiEndpointMetricsEnabled</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span></code></pre></div><div class="generated-table"></div>
<table>
<thead>
<tr>
<th>Field</th>
<th class="description">Description</th>
<th>Validation Rule</th>
</tr>
</thead>
<tr>
<td>
<p>apiEndpointMetricsEnabled</p>
</td>
<td>
<p><a href="https://developers.google.com/protocol-buffers/docs/proto3#scalar" target="_blank" rel="noopener">bool</a> <br/> Toggle to process, analyze, and generate api endpoints RED metrics.
By default <code>false</code> which means disabled.
If you want to analyze all your request and generate RED metrics for
each endpoint of your registered services in the mesh, set it to <code>true</code>.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
</table>
<h3 id="tetrateio-api-install-common-certmanagersettings-managed">Managed</h3>
<p>If INTERNAL, TSB will install and manage cert-manager. In case a pre-existing installation is found, the operator will not install cert-manager and fail.
If EXTERNAL, TSB would rely on a pre installed cert-manager for use.
Pre installed cert-manager should support signing requests raised through Kubernetes CSR</p>
<div class="generated-table"></div>
<table>
<thead>
<tr>
<th>Field</th>
<th>Number</th>
<th class="description">Description</th>
</tr>
</thead>
<tr>
<td>
<p>AUTO</p>
</td>
<td>
<p>0</p>
</td>
<td>
<p>TSB will check if a pre-existing cert-manager installation is found in the cluster and only
install and manage cert-manager if it is not found.
The pre-installed cert-manager should support signing requests raised through Kubernetes CSR</p>
</td>
</tr>
<tr>
<td>
<p>EXTERNAL</p>
</td>
<td>
<p>1</p>
</td>
<td>
<p>EXTERNAL represents that TSB will rely on a pre installed cert-manager for use.
Pre installed cert-manager should support signing requests raised through Kubernetes CSR</p>
</td>
</tr>
<tr>
<td>
<p>INTERNAL</p>
</td>
<td>
<p>2</p>
</td>
<td>
<p>INTERNAL represents that TSB will install and manage cert-manager in the cluster.
In case a pre-existing installation is found, the operator will not install cert-manager and fail.</p>
</td>
</tr>
</table>

          </div>

          

<div class="article-tags">
  
  <a class="badge badge-light" href="/tag/tsb/">TSB</a>
  
</div>



          
          
          <div class="article-widget">
            
<div class="container-xl row post-nav">
  
  
  
  <a class="col-6 post-nav-item btn btn-lg mb-md-1"  href="/tsb/refs/install/controlplane/v1alpha1/spec/" rel="prev">
    <div class="meta-nav">下一页</div>
    <p>Control Plane</p></a>
  
</div>

          </div>
          

        <div class="body-footer">
          <p>最近更新于 2024-03-06</p>

          





  

<p class="edit-page">
  <a href="https://github.com/rootsongjc/cloud-native-library//edit/master/content/tsb/refs/install/common/common-config.md">
    <i class="fas fa-pen pr-2"></i>编辑本页
  </a>
</p>



          




          


        </div>

      </article>

      <footer class="site-footer">

  



  

  
  <div class="copyright py-4 bg-footer">
      <div class="row justify-content-center">
        <div class="text-center footer-color">
          <p class="mb-0">© 2017-2024 jimmysong.io all rights reserved</p>
        </div>
    </div>
  </div>

</footer>


    </main>
  </div>
</div>

  </div>

  <div class="page-footer">
    
    
  </div>

  


<script src="/js/vendor-bundle.min.5b2c48a98fb93f10e8d01cff2874cdf3.js"></script>




  

  
  

  

  
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.1/highlight.min.js" integrity="sha512-Ypjm0o7jOxAd4hpdoppSEN0TQOC19UtPAqD+4s5AlXmUvbmmS/YMxYqAqarQYyxTnB6/rqip9qcxlNB/3U9Wdg==" crossorigin="anonymous"></script>
    
    
  










  
  <script id="search-hit-fuse-template" type="text/x-template">
    <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <div class="article-metadata search-hit-type">{{relpermalink}}</div>
          <a href="{{relpermalink}}">{{title}}</a>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
    </div>
  </script>
  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.2.1/fuse.min.js" integrity="sha512-o38bmzBGX+hD3JHWUFCDA09btWaqrNmoJ3RXLlrysA7PP01Kgs4UlE4MhelE1v5dJR3+cxlR4qQlotsW7jKsnw==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha512-mhbv5DqBMgrWL+32MmsDOt/OAvqr/cHimk6B8y/bx/xS88MVkYGPiVv2ixKVrkywF2qHplNRUvFsAHUdxZ3Krg==" crossorigin="anonymous"></script>
  












  
  
  
  
  
  
  







<script id="page-data" type="application/json">{"use_headroom":false}</script>










  
  


<script src="/zh/js/wowchemy.min.a04788cdfce708339d31c0685377d64e.js"></script>







  
<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">引用</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <pre><code class="tex hljs"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-outline-primary my-1 js-copy-cite" href="#" target="_blank">
          <i class="fas fa-copy"></i> 复制
        </a>
        <a class="btn btn-outline-primary my-1 js-download-cite" href="#" target="_blank">
          <i class="fas fa-download"></i> 下载
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

  <script src="/js/wowchemy-publication.af9327db0521d4a01354bfc8b77a4324.js" type="module"></script>
<script>

var mybutton = document.getElementById("backTopBtn");


window.onscroll = function() {scrollFunction()};

function scrollFunction() {
  if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
    mybutton.style.display = "block";
  } else {
    mybutton.style.display = "none";
  }
}


function topFunction() {
  document.body.scrollTop = 0;
  document.documentElement.scrollTop = 0;
}
</script>






<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.2.2/anchor.min.js" integrity="sha512-I7w3ZdSFzw5j3jU3ZkNikBNeIrl3i+hEuEdwNmqUJvwNcaBUNcijnP2gd9DtGlgVYDplfjGoD8vTNsID+lCjqg==" crossorigin="anonymous"></script>
<script>
  anchors.add();
</script>



<script>



(function() {
  'use strict';

  if(!document.queryCommandSupported('copy')) {
    return;
  }

  function flashCopyMessage(el, msg) {
    el.className = "highlight-copy-btn";
    el.textContent = msg;
    setTimeout(function() {
      el.textContent = "";
      el.className = "highlight-copy-btn fa fa-copy";
    }, 1000);
  }

  function selectText(node) {
    var selection = window.getSelection();
    var range = document.createRange();
    range.selectNodeContents(node);
    selection.removeAllRanges();
    selection.addRange(range);
    return selection;
  }

  function addCopyButton(containerEl) {
    var copyBtn = document.createElement("button");
    copyBtn.className = "highlight-copy-btn fa fa-copy";
    copyBtn.textContent = "";

    var codeEl = containerEl.firstElementChild;
    copyBtn.addEventListener('click', function() {
      try {
        var selection = selectText(codeEl);
        document.execCommand('copy');
        selection.removeAllRanges();
        
        flashCopyMessage(copyBtn, '已复制')
        
      } catch(e) {
        console && console.log(e);
        flashCopyMessage(copyBtn, 'Failed :\'(')
      }
    });

    containerEl.appendChild(copyBtn);
  }

  
  var highlightBlocks = document.getElementsByClassName('highlight');
  Array.prototype.forEach.call(highlightBlocks, addCopyButton);
})();
</script>



<script>

function Collapse(e){
  var node = document.getElementById(e);
  if (node.className.indexOf('fa-angle-down') > -1){
    node.setAttribute("class", "fa-solid fa-angle-right");
    }else{
    node.setAttribute("class", "fa-solid fa-angle-down");
    }
}
</script>


</body>
</html>
